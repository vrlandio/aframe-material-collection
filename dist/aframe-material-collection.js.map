{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/primitives/button.js","webpack:///./src/primitives/fab_button.js","webpack:///./src/primitives/fab_button_small.js","webpack:///./src/primitives/switch.js","webpack:///./src/primitives/slider.js","webpack:///./src/primitives/number.js","webpack:///./src/primitives/toast.js","webpack:///./src/primitives/checkbox.js","webpack:///./src/primitives/radio.js","webpack:///./src/primitives/input-text.js","webpack:///./src/primitives/renderer.js","webpack:///./src/components/input-text.js","webpack:///./src/components/btn.js","webpack:///./src/components/slider.js","webpack:///./src/components/number.js","webpack:///./src/components/switch.js","webpack:///./src/components/toast.js","webpack:///./src/components/checkbox.js","webpack:///./src/components/radio.js","webpack:///./src/components/curved-plane.js","webpack:///./src/components/renderer.js","webpack:///./src/primitives/text-input.js","webpack:///./src/primitives/number-input.js","webpack:///./src/primitives/int-input.js","webpack:///./src/primitives/password-input.js","webpack:///./src/components/text.js","webpack:///./src/components/icon.js","webpack:///./src/components/rounded.js","webpack:///./src/components/ripple.js","webpack:///./src/components/mouse-shim.js","webpack:///./src/components/double-click.js","webpack:///./src/components/border.js","webpack:///./src/components/color-picker.js","webpack:///./src/components/modal.js","webpack:///./src/utils.js","webpack:///./src/index.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ,uBAAuB,uBAAuB;AAC9C,sBAAsB,QAAQ,mBAAmB,sCAAsC;AACvF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ,eAAe;AACf,qBAAqB,QAAQ,iBAAiB,gDAAgD;AAC9F,eAAe,QAAQ,qBAAqB;AAC5C,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ,eAAe;AACf,oBAAoB,QAAQ,qBAAqB,oCAAoC;AACrF,eAAe,QAAQ,qBAAqB;AAC5C,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,kBAAkB,uCAAuC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B;AACA,oBAAoB;AACpB;AACA,WAAW,iBAAiB;AAC5B;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA,WAAW,iBAAiB;AAC5B;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU,cAAc;AACxB,aAAa,kCAAkC;AAC/C,SAAS,kBAAkB;AAC3B,aAAa,mBAAmB;AAChC,UAAU,mBAAmB;AAC7B,UAAU,6BAA6B;AACvC,WAAW,+BAA+B;AAC1C,oBAAoB,mBAAmB;AACvC,0BAA0B,2BAA2B;AACrD,0BAA0B,2BAA2B;AACrD,gBAAgB;AAChB,EAAE;AACF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,KAAK,oBAAoB;AACxE,mBAAmB,kBAAkB;;AAErC,sBAAsB,mBAAmB;;AAEzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA,IAAI;;AAEJ,GAAG;AACH;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,EAAE;AACF;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,6EAA6E,cAAc;AAC3F;AACA;;AAEA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA,IAAI;;AAEJ;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,IAAI;;AAEJ;;AAEA;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,IAAI;;AAEJ;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA,sDAAsD,YAAY;AAClE;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,GAAG;;AAEH;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;;AAEA,GAAG;;AAEH,EAAE;AACF;;AAEA;;AAEA,iDAAiD,aAAa;AAC9D;AACA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA,kBAAkB,uBAAuB;;AAEzC;;AAEA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAmB;;AAErC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,mBAAmB,wBAAwB;;AAE3C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,uBAAuB;;AAEzC;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,EAAE;AACF;AACA,CAAC;AACD;;;;;;;ACxqBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,4BAA4B;AACzC,gBAAgB,gCAAgC;AAChD,iBAAiB,mCAAmC;AACpD,aAAa,kCAAkC;AAC/C,aAAa;AACb,EAAE;AACF;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;;AAEA,wD;AACA,8D;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,wD;AACA,qD;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAI;AACJ;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA,2BAA2B,UAAU;AACrC,SAAS,QAAQ;AACjB;AACA;;AAEA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;;AAEA;AACA,CAAC;;;;;;;ACnKD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,6BAA6B;AACvC,aAAa,kCAAkC;AAC/C,kBAAkB,qBAAqB;AACvC,gBAAgB,qBAAqB;AACrC,wBAAwB,qBAAqB;AAC7C,cAAc,kBAAkB;AAChC,iBAAiB,iCAAiC;AAClD,uBAAuB,2BAA2B;AAClD,UAAU,+BAA+B;AACzC,WAAW,+BAA+B;AAC1C,0BAA0B,2BAA2B;AACrD,iBAAiB,iCAAiC;AAClD,kBAAkB,6BAA6B;AAC/C,aAAa;AACb,EAAE;AACF;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,WAAW,cAAc;AACnF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;;AAEA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;;AAEA;;AAEA,0FAA0F,iCAAiC;AAC3H;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH;AACA,CAAC;;;;;;;AChMD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,6BAA6B;AACvC,cAAc,iCAAiC;AAC/C,UAAU,gCAAgC;AAC1C,WAAW,+BAA+B;AAC1C,uBAAuB;AACvB,EAAE;AACF;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA,+EAA+E,cAAc,aAAa;AAC1G,0DAA0D;;AAE1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gFAAgF,cAAc,aAAa;AAC3G;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gFAAgF,cAAc,aAAa;AAC3G;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA,iEAAiE,8DAA8D,sBAAsB,cAAc,aAAa;AAChL;AACA;AACA;AACA;;;;;;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,kCAAkC;AAC5C,aAAa,kCAAkC;AAC/C,kBAAkB,qBAAqB;AACvC,gBAAgB,qBAAqB;AACrC,wBAAwB,qBAAqB;AAC7C,cAAc,kBAAkB;AAChC,mBAAmB,4BAA4B;AAC/C,iBAAiB,gCAAgC;AACjD,uBAAuB,2BAA2B;AAClD,UAAU,+BAA+B;AACzC,WAAW;AACX,EAAE;AACF;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,IAAI;;AAEJ;;AAEA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,WAAW,cAAc;AACpF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;;AAEA,GAAG;;AAEH;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;;AAEA;;AAEA,0FAA0F,iCAAiC;AAC3H;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,EAAE;AACF;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA,CAAC;;;;;;;AC9KD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,mBAAmB;AAC/B,YAAY;AACZ,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB,2FAA2F;AAChH;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;AACA,yCAAyC,SAAS;AAClD;AACA,YAAY,YAAY;AACxB;;AAEA;;AAEA,OAAO;AACP;;AAEA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA,KAAK;AACL;AACA;AACA,qBAAqB,YAAY;AACjC,UAAU,SAAS;AACnB;;AAEA;;AAEA,KAAK;AACL;AACA;;AAEA,GAAG;;AAEH;AACA,CAAC;;;;;;;AClED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,kCAAkC;AAC5C,kBAAkB,qBAAqB;AACvC,oBAAoB,qBAAqB;AACzC,kBAAkB,qBAAqB;AACvC,kBAAkB,kCAAkC;AACpD,aAAa,kCAAkC;AAC/C,uBAAuB,2BAA2B;AAClD,UAAU,gCAAgC;AAC1C,WAAW;AACX,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,IAAI;;AAEJ;;AAEA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;;AAEA,6CAA6C,0BAA0B;AACvE,6CAA6C,oCAAoC;;AAEjF,GAAG;;AAEH,6CAA6C,+BAA+B;AAC5E,6CAA6C,iDAAiD;;AAE9F;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B,SAAS,OAAO;AAChB;;AAEA;;AAEA,IAAI;AACJ;;AAEA;AACA;;AAEA,IAAI;AACJ;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;ACxND;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,cAAc;AACxB,aAAa,kCAAkC;AAC/C,kBAAkB,qBAAqB;AACvC,mBAAmB,iCAAiC;AACpD,oBAAoB,qBAAqB;AACzC,kBAAkB,qBAAqB;AACvC,aAAa,kCAAkC;AAC/C,uBAAuB,2BAA2B;AAClD,UAAU,gCAAgC;AAC1C,WAAW;AACX,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;;AAEA,GAAG;;AAEH;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;;AAEA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B,SAAS,cAAc;AACvB;;AAEA;;AAEA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC,SAAS,OAAO;AAChB;;AAEA;;AAEA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;ACvKD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,WAAW;;AAEjC,wBAAwB,6BAA6B;;AAErD;;AAEA;;AAEA;AACA;;AAEA;AACA,CAAC;;;;;;;ACrCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAmB;AAC/B,mBAAmB,mBAAmB;AACtC,0BAA0B,2BAA2B;AACrD,kBAAkB,yBAAyB,uBAAuB,EAAE;AACpE,cAAc,yBAAyB,aAAa,EAAE;AACtD,qBAAqB,yBAAyB,mBAAmB,EAAE;AACnE,mBAAmB,kCAAkC;AACrD,QAAQ,8BAA8B;AACtC,uBAAuB,2BAA2B;AAClD,UAAU,kCAAkC;AAC5C,cAAc;AACd,EAAE;AACF;;AAEA;AACA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gHAAgH,kBAAkB;AAClI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,GAAG;AACH;;AAEA;AACA;;AAEA,GAAG;AACH;AACA;AACA,gGAAgG,mBAAmB;AACnH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,EAAE;AACF;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,eAAe;AACpC,UAAU,aAAa;AACvB;;AAEA;;AAEA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;;AAEA,MAAM;;AAEN;;AAEA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,GAAG;;AAEH,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA,2CAA2C,uBAAuB;AAClE;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA,eAAe;AACf;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,0BAA0B;;AAE5C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,kBAAkB,qCAAqC;;AAEvD;AACA;;AAEA,wCAAwC,4CAA4C;;AAEpF;;AAEA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,CAAC;;;;;;;;;;;;;AC/TD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,+BAA+B;AACzC,WAAW,+BAA+B;AAC1C,UAAU,cAAc;AACxB,SAAS,kBAAkB;AAC3B,mBAAmB,qBAAqB;AACxC,kBAAkB,qBAAqB;AACvC,kBAAkB,qBAAqB;AACvC,aAAa,kCAAkC;AAC/C,eAAe,oBAAoB;AACnC,cAAc,qBAAqB;AACnC,gBAAgB,qBAAqB;AACrC,uBAAuB;AACvB,EAAE;AACF;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;AC/BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,uCAAuC;AAC/C,SAAS,yBAAyB,iBAAiB,EAAE;AACrD,WAAW,iCAAiC;AAC5C,UAAU;AACV,EAAE;AACF;;AAEA;AACA;AACA,iCAAiC,kHAAkH;AACnJ;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iCAAiC,kHAAkH;AACnJ;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;ACpCD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,gCAAgC;AACjD,kBAAkB;AAClB,EAAE;AACF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACjDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,kBAAkB;AAC5B,aAAa,6BAA6B;AAC1C,iBAAiB,4BAA4B;AAC7C,cAAc,4BAA4B;AAC1C,kBAAkB,kCAAkC;AACpD,SAAS,yBAAyB,aAAa,EAAE;AACjD,WAAW,gCAAgC;AAC3C,aAAa;AACb,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA,iCAAiC,2EAA2E;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA,oBAAoB,aAAa;AACjC,SAAS,OAAO;AAChB;;AAEA;;AAEA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;;AAEA,EAAE;AACF;;AAEA,oBAAoB,SAAS;AAC7B,SAAS,OAAO;AAChB;AACA;;AAEA;;AAEA,IAAI;AACJ;;AAEA;;AAEA,IAAI;AACJ;AACA;;AAEA;AACA,CAAC;;;;;;;AC/HD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,EAAE;AACF;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;;AAEA;;AAEA;AACA,6CAA6C,4DAA4D;;AAEzG;;AAEA,GAAG;;AAEH;AACA,CAAC;;;;;;;ACjDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,EAAE;AACF;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,GAAG;;AAEH;AACA,CAAC;;;;;;;AC/BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gCAAgC;AACjD,kBAAkB,0BAA0B;AAC5C,gBAAgB,iCAAiC;AACjD,UAAU,qBAAqB;AAC/B,mBAAmB;AACnB,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uHAAuH,yBAAyB;AAChJ;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,CAAC;;;;;;;AC9DD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC,uBAAuB,qBAAqB;AAC5C,aAAa;AACb,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;;AAEA;AACA;AACA;;AAEA,GAAG;;AAEH,EAAE;AACF;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA,qBAAqB,UAAU;AAC/B,UAAU,QAAQ;AAClB;;AAEA;;AAEA,KAAK;AACL;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,GAAG;;AAEH,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC,qBAAqB,mBAAmB,kEAAkE,sDAAsD,SAAS;;AAE7M;AACA,6EAA6E,yBAAyB,gCAAgC,oGAAoG,gDAAgD,mDAAmD,SAAS,uBAAuB,0CAA0C,qDAAqD,gDAAgD,gFAAgF,0CAA0C,SAAS;;AAE/nB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;;AAEA,GAAG;;AAEH,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC,oBAAoB,mBAAmB,gFAAgF,SAAS;;AAElK;AACA,qCAAqC,4BAA4B,yBAAyB,sBAAsB,sCAAsC,sCAAsC,kEAAkE,+BAA+B,SAAS;;AAEtS;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH,EAAE;AACF;;AAEA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;;AAEA,EAAE;AACF;;AAEA;;AAEA;AACA;;AAEA,GAAG;AACH;;AAEA;AACA;;AAEA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;;AAEA;AACA;;AAEA,GAAG;AACH;;AAEA;AACA;;AAEA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uCAAuC;AACvC,uCAAuC;;AAEvC;AACA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH,EAAE;AACF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;ACjdD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,mBAAmB;AAC7B,SAAS;AACT,EAAE;AACF;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,mBAAmB,0BAA0B;;AAE7C;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;;AAEA,EAAE;AACF;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,EAAE;AACF;;AAEA;;AAEA;AACA,qBAAqB,UAAU;AAC/B,UAAU,QAAQ;AAClB;;AAEA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA,GAAG;;AAEH;AACA,CAAC;;;;;;;;;;;;ACnGD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,GAAG;;AAEH;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW;AACX;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,qBAAqB,2BAA2B;;AAEhD;;AAEA;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;;;AC5IA;AACA;AACA;AACA;AACA;AACgB;;AAEhB;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"aframe-material-collection.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 36);\n","/* global AFRAME */\n/**\n * Button Primitive for aframe-material-collection.\n * @namespace aframe-material-collection\n * @primitive a-ui-button\n * @author Shane Harris\n */\n\nmodule.exports = AFRAME.registerPrimitive(\n\t\"a-ui-button\",\n\tAFRAME.utils.extendDeep( {}, AFRAME.primitives.getMeshMixin(), {\n\t\tdefaultComponents: {\n\t\t\tgeometry: {\n\t\t\t\tprimitive: \"box\",\n\t\t\t\twidth: 0.5,\n\t\t\t\theight: 0.175,\n\t\t\t\tdepth: 0.015\n\t\t\t},\n\t\t\tmaterial: {\n\t\t\t\tcolor: \"#009688\",\n\t\t\t\tshader: \"flat\"\n\t\t\t},\n\t\t\t\"ui-btn\": {\n\t\t\t\tanimated: \"ui-btn.animated\",\n\t\t\t},\n\t\t\t//   \"ui-rounded\": { borderRadius: 0.0025 },\n\t\t\t//   \"ui-ripple\": { size: { x: 0.5, y: 0.175 }, clampToSquare: true, zIndex: 0.001 },\n\t\t\t\"text\": {\n\t\t\t\talign: \"center\",\n\t\t\t\tzOffset: 0.025,\n\t\t\t\twrapCount: 10\n\t\t\t}\n\t\t},\n\t\tmappings: {\n\t\t\theight: \"geometry.height\",\n\t\t\twidth: \"geometry.width\",\n\t\t\tcolor: \"material.color\",\n\t\t\ttransparent: \"material.transparent\",\n\t\t\t\"font-color\": \"text.color\",\n\n\t\t\t\"text-value\": \"text.value\",\n\t\t\t\"wrap-count\": \"text.wrapCount\",\n\t\t\tanimated: \"ui-btn.animated\",\n\t\t\tdisabled: \"ui-btn.disabled\",\n\t\t\t\"hover-height\": \"ui-btn.hoverHeight\",\n\t\t\t\"active-height\": \"ui-btn.activeHeight\"\n\t\t}\n\t} )\n);\n","/* global AFRAME */\n/**\n * Floating Action Button Primitive for aframe-material-collection.\n * @namespace aframe-material-collection\n * @primitive a-ui-fab-button\n * @author Shane Harris\n */\n\nmodule.exports = AFRAME.registerPrimitive(\n\t\"a-ui-fab-button\",\n\tAFRAME.utils.extendDeep( {}, AFRAME.primitives.getMeshMixin(), {\n\t\tdefaultComponents: {\n\t\t\tgeometry: {\n\t\t\t\tprimitive: \"circle\",\n\t\t\t\tradius: 0.1,\n\t\t\t\tsegments: 6\n\t\t\t},\n\t\t\tmaterial: {\n\t\t\t\tcolor: \"#009688\",\n\t\t\t\tshader: \"flat\"\n\t\t\t},\n\t\t\t\"ui-btn\": {},\n\t\t\t//  \"ui-ripple\": { size: { x: 0.1, y: 0.1 }, zIndex: 0.002, fadeDelay: 300, duration: 500 },\n\t\t\t\"ui-icon\": { size: { x: 0.105, y: 0.105 } }\n\t\t},\n\t\tmappings: {\n\t\t\tradius: \"geometry.radius\",\n\t\t\tcolor: \"material.color\",\n\t\t\t\"icon-color\": \"ui-icon.color\",\n\t\t\ttransparent: \"material.transparent\",\n\t\t\tsrc: \"ui-icon.src\",\n\t\t\t// \"ripple-color\": \"ui-ripple.color\",\n\t\t\t// \"ripple-size\": \"ui-ripple.size\",\n\t\t\t// \"ripple-z-index\": \"ui-ripple.zIndex\",\n\t\t\tdisabled: \"ui-btn.disabled\",\n\t\t\tanimated: \"ui-btn.animated\"\n\t\t}\n\t} )\n);\n","/* global AFRAME */\n/**\n * Floating Action Button Small Primitive for aframe-material-collection.\n * @namespace aframe-material-collection\n * @primitive a-ui-fab-button-small\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerPrimitive(\n\t\"a-ui-fab-button-small\",\n\tAFRAME.utils.extendDeep( {}, AFRAME.primitives.getMeshMixin(), {\n\t\tdefaultComponents: {\n\t\t\tgeometry: {\n\t\t\t\tprimitive: \"circle\",\n\t\t\t\tradius: 0.055,\n\t\t\t\tsegments: 6\n\t\t\t},\n\t\t\tmaterial: {\n\t\t\t\tcolor: \"#009688\",\n\t\t\t\tshader: \"flat\"\n\t\t\t},\n\t\t\t\"ui-btn\": {},\n\t\t\t// \"ui-ripple\": { size: { x: 0.125, y: 0.125 }, zIndex: -0.001, color: \"#ff0000\" },\n\t\t\t\"ui-icon\": { size: { x: 0.075, y: 0.075 }, src: \"icons/sort_white_64dp.png\" }\n\t\t},\n\t\tmappings: {\n\t\t\tradius: \"geometry.radius\",\n\t\t\tcolor: \"material.color\",\n\t\t\t\"icon-color\": \"ui-icon.color\",\n\t\t\ttransparent: \"material.transparent\",\n\t\t\tsrc: \"ui-icon.src\",\n\t\t\t//  \"ripple-color\": \"ui-ripple.color\",\n\t\t\t//  \"ripple-size\": \"ui-ripple.size\",\n\t\t\t\"ripple-z-index\": \"ui-ripple.zIndex\",\n\t\t\tdisabled: \"ui-btn.disabled\",\n\t\t\tanimated: \"ui-btn.animated\"\n\t\t}\n\t} )\n);\n","/* global AFRAME */\n/**\n * Switch Primitive for aframe-material-collection.\n * @namespace aframe-material-collection\n * @primitive a-ui-switch\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerPrimitive(\n\t\"a-ui-switch\",\n\tAFRAME.utils.extendDeep( {}, AFRAME.primitives.getMeshMixin(), {\n\t\tdefaultComponents: {\n\t\t\t\"ui-switch\": {}\n\t\t},\n\t\tmappings: {\n\t\t\tvalue: \"ui-switch.value\",\n\t\t\tdisabled: \"ui-switch.disabled\"\n\t\t}\n\t} )\n);\n","/* global AFRAME */\n/**\n * Slider Primitive for aframe-material-collection.\n * @namespace aframe-material-collection\n * @primitive a-ui-slider\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerPrimitive(\n\t\"a-ui-slider\",\n\tAFRAME.utils.extendDeep( {}, AFRAME.primitives.getMeshMixin(), {\n\t\tdefaultComponents: {\n\t\t\t\"ui-slider\": {}\n\t\t},\n\t\tmappings: {\n\t\t\tvalue: \"ui-slider.value\",\n\t\t\tdisabled: \"ui-slider.disabled\",\n\t\t\t\"camera-el\": \"ui-slider.cameraEl\"\n\t\t}\n\t} )\n);\n","/* global AFRAME */\n/**\n * Number Widget Primitive for aframe-material-collection.\n * @namespace aframe-material-collection\n * @primitive a-ui-number\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerPrimitive(\n\t\"a-ui-number\",\n\tAFRAME.utils.extendDeep( {}, AFRAME.primitives.getMeshMixin(), {\n\t\tdefaultComponents: {\n\t\t\t\"ui-number\": {}\n\t\t},\n\t\tmappings: {}\n\t} )\n);\n","/* global AFRAME */\n/**\n * Toast Message Primitive for aframe-material-collection.\n * @namespace aframe-material-collection\n * @primitive a-ui-toast\n * @author Shane Harris\n */\n\nmodule.exports = AFRAME.registerPrimitive(\n\t\"a-ui-toast\",\n\tAFRAME.utils.extendDeep( {}, AFRAME.primitives.getMeshMixin(), {\n\t\tdefaultComponents: {\n\t\t\tgeometry: {\n\t\t\t\tprimitive: \"plane\",\n\t\t\t\twidth: 0.5,\n\t\t\t\theight: 0.2\n\t\t\t},\n\t\t\tmaterial: {\n\t\t\t\tcolor: \"#010e0f\",\n\t\t\t\tshader: \"flat\",\n\t\t\t\ttransparent: true,\n\t\t\t\topacity: 0.8\n\t\t\t},\n\t\t\t\"ui-rounded\": { borderRadius: 0.01, curveSegments: 3 },\n\t\t\ttext: {\n\t\t\t\tfont: \"roboto\",\n\t\t\t\tvalue: \"Toast Message!\",\n\t\t\t\talign: \"center\",\n\t\t\t\tzOffset: 0.002,\n\t\t\t\twrapCount: 20\n\t\t\t}\n\t\t},\n\t\tmappings: {\n\t\t\theight: \"geometry.height\",\n\t\t\twidth: \"geometry.width\",\n\t\t\tcolor: \"material.color\",\n\t\t\ttransparent: \"material.transparent\",\n\t\t\t\"font-color\": \"text.color\",\n\t\t\t\"text-value\": \"text.value\",\n\t\t\t\"wrap-count\": \"text.wrapCount\",\n\t\t\t\"border-radius\": \"ui-rounded.borderRadius\",\n\t\t\t\"curve-segments\": \"ui-rounded.curveSegments\"\n\t\t}\n\t} )\n);\n","/* global AFRAME */\n/**\n * Checkbox Primitive for aframe-material-collection.\n * @namespace aframe-material-collection\n * @primitive a-ui-checkbox\n * @author Shane Harris\n */\n\nmodule.exports = AFRAME.registerPrimitive(\n\t\"a-ui-checkbox\",\n\tAFRAME.utils.extendDeep( {}, AFRAME.primitives.getMeshMixin(), {\n\t\tdefaultComponents: {\n\t\t\t\"ui-checkbox\": {},\n\t\t\t\"ui-ripple\": {\n\t\t\t\tsize: { x: 0.1, y: 0.1 },\n\t\t\t\tzIndex: - 0.001,\n\t\t\t\tcolor: \"#afafaf\"\n\t\t\t}\n\t\t},\n\t\tmappings: {\n\t\t\tvalue: \"ui-checkbox.value\",\n\t\t\tdisabled: \"ui-checkbox.disabled\",\n\t\t\tindeterminate: \"ui-checkbox.indeterminate\"\n\t\t}\n\t} )\n);\n","/* global AFRAME */\n/**\n * Radio Primitive for aframe-material-collection.\n * @namespace aframe-material-collection\n * @primitive a-ui-radio\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerPrimitive(\n\t\"a-ui-radio\",\n\tAFRAME.utils.extendDeep( {}, AFRAME.primitives.getMeshMixin(), {\n\t\tdefaultComponents: {\n\t\t\t\"ui-radio\": {},\n\t\t\tgeometry: {\n\t\t\t\tprimitive: \"ring\",\n\t\t\t\tradiusInner: 0.0575,\n\t\t\t\tradiusOuter: 0.0675,\n\t\t\t\tsegmentsTheta: 6\n\t\t\t},\n\t\t\tmaterial: {\n\t\t\t\tshader: \"flat\",\n\t\t\t\tcolor: \"#afafaf\"\n\t\t\t},\n\t\t\t\"ui-ripple\": {\n\t\t\t\tsize: { x: 0.1, y: 0.1 },\n\t\t\t\tzIndex: - 0.001,\n\t\t\t\tcolor: \"#afafaf\"\n\t\t\t}\n\t\t},\n\t\tmappings: {\n\t\t\tcolor: \"ui-radio.selectedColor\",\n\t\t\tvalue: \"ui-radio.value\",\n\t\t\tselected: \"ui-radio.selected\",\n\t\t\tdisabled: \"ui-radio.disabled\"\n\t\t}\n\t} )\n);\n","/* global AFRAME */\n/**\n * Text Input Primitive for aframe-material-collection.\n * @namespace aframe-material-collection\n * @primitive a-ui-input-text\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerPrimitive(\n\t\"a-ui-input-text\",\n\tAFRAME.utils.extendDeep( {}, AFRAME.primitives.getMeshMixin(), {\n\t\tdefaultComponents: {\n\t\t\t\"ui-input-text\": {\n\t\t\t\tplaceHolder: \"Text...\",\n\t\t\t\twidth: 1,\n\t\t\t\theight: 0.2,\n\t\t\t\tvalue: \"\"\n\t\t\t},\n\t\t\t\"ui-double-click\": {}\n\t\t},\n\t\tmappings: {\n\t\t\twidth: \"ui-input-text.width\",\n\t\t\theight: \"ui-input-text.height\",\n\t\t\ttype: \"ui-input-text.type\",\n\t\t\tvalue: \"ui-input-text.value\",\n\t\t\t\"background-color\": \"ui-input-text.backgroundColor\",\n\t\t\t\"place-holder\": \"ui-input-text.placeHolder\",\n\t\t\t\"camera-el\": \"ui-input-text.cameraEl\",\n\t\t\t\"rig-el\": \"ui-input-text.rigEl\",\n\t\t\t\"look-controls-component\": \"ui-input-text.lookControlsComponent\",\n\t\t\t\"wasd-controls-component\": \"ui-input-text.wasdControlsComponent\"\n\t\t}\n\t} )\n);\n","/* global AFRAME */\n/**\n * Renderer Primitive for aframe-material-collection.\n * @namespace aframe-material-collection\n * @primitive a-ui-renderer\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerPrimitive(\n\t\"a-ui-renderer\",\n\tAFRAME.utils.extendDeep( {}, AFRAME.primitives.getMeshMixin(), {\n\t\tdefaultComponents: {\n\t\t\t\"ui-renderer\": {}\n\t\t},\n\t\tmappings: {\n\t\t\t\"ui-panel\": \"ui-renderer.uiPanel\",\n\t\t\t\"look-controls-el\": \"ui-renderer.lookControlsEl\",\n\t\t\t\"look-controls-component\": \"ui-renderer.lookControlsComponent\",\n\t\t\t\"panel-position\": \"ui-renderer.panelPosition\",\n\t\t\t\"panel-size\": \"ui-renderer.panelSize\",\n\t\t\t\"render-resolution\": \"ui-renderer.renderResolution\",\n\t\t\t\"debug-raycaster\": \"ui-renderer.debugRaycaster\",\n\t\t\tfps: \"ui-renderer.fps\",\n\t\t\t\"intersectable-class\": \"ui-renderer.intersectableClass\",\n\t\t\t\"render-debug\": \"ui-renderer.debug\"\n\t\t}\n\t} )\n);\n","/* global AFRAME,TWEEN,THREE */\n/**\n * Text input component Component for aframe-material-collection. Includes support for number/int only input.\n * @namespace aframe-material-collection\n * @component ui-text-input\n * @author Shane Harris\n */\n\nmodule.exports = AFRAME.registerComponent( \"ui-input-text\", {\n\tdepends: [ \"text\" ],\n\tschema: {\n\t\tvalue: { default: \"\" },\n\t\tdisabled: { type: \"boolean\", default: false },\n\t\ttype: { default: \"text\" },\n\t\tcameraEl: { type: \"selector\" },\n\t\trigEl: { type: \"selector\" },\n\t\twidth: { type: \"number\", default: 1 },\n\t\theight: { type: \"number\", default: 0.2 },\n\t\tbackgroundColor: { default: \"white\" },\n\t\tlookControlsComponent: { default: \"look-controls\" },\n\t\twasdControlsComponent: { default: \"wasd-controls\" },\n\t\tplaceHolder: { default: \"Text...\" }\n\t},\n\tinit() {\n\n\t\tthis.setupElements();\n\t\tthis.setupScrollClips();\n\t\tthis.text.addEventListener( \"textfontset\", () => {\n\n\t\t\tthis.text.selectionStart = 0;\n\t\t\tthis.text.selectionLength = 0;\n\t\t\tthis.startSelection = 0;\n\t\t\tthis.scrollOffset = 0;\n\t\t\tthis.alphabet = {};\n\t\t\tthis.scrollIndex = 0;\n\t\t\tlet chars = this.data.value.split( \"\" );\n\t\t\tthis.chars = [];\n\t\t\tthis.charsAllowed = [ \"-\", \"_\", \"+\", \"=\", \"{\", \"}\", \"[\", \"]\", \":\", \";\", \"'\", \"@\", \"~\", \"#\", \"<\", \">\", \",\", \".\", \"?\", \"/\", \"|\", \"\\\\\", \"`\", \"Â¬\" ];\n\t\t\tfor ( let i = 0; i < chars.length; i ++ ) {\n\n\t\t\t\tthis.chars.push( { char: chars[ i ] } );\n\n\t\t\t}\n\t\t\tthis.blurHandler = () => this.blur();\n\t\t\tthis.isMoving = false;\n\t\t\tlet mousemove = this.onMousemove.bind( this );\n\t\t\tthis.keydown = e => this.handleKeyboardEvent( e );\n\t\t\tthis.backing.addEventListener( \"mousedown\", () => {\n\n\t\t\t\tthis.focus();\n\t\t\t\tthis.playPauseCamera( \"pause\" );\n\t\t\t\tthis.backing.addEventListener( \"ui-mousemove\", mousemove );\n\n\t\t\t} );\n\t\t\tthis.el.sceneEl.addEventListener( \"mouseup\", () => {\n\n\t\t\t\tthis.backing.removeEventListener( \"ui-mousemove\", mousemove );\n\t\t\t\tthis.isMoving = false;\n\t\t\t\tthis.setSelection( this.text.selectionStart, this.text.selectionLength );\n\n\t\t\t} );\n\t\t\tthis.el.setAttribute( \"visible\", false );\n\t\t\tsetTimeout( () => {\n\n\t\t\t\tthis.setValue();\n\t\t\t\tthis.el.setAttribute( \"visible\", true );\n\t\t\t\tthis.setScrollClips();\n\n\t\t\t}, 150 );\n\n\t\t} );\n\t\tthis.el.getValue = this.getValue.bind( this );\n\t\tthis.el.value = this.value.bind( this );\n\t\tthis.el.focus = this.focus.bind( this );\n\n\t},\n\tsetupScrollClips() {\n\n\t\tthis.content_clips = [ new THREE.Plane( new THREE.Vector3( - 1, 0, 0 ), 0 ), new THREE.Plane( new THREE.Vector3( 1, 0, 0 ), 0 ) ];\n\t\t//this.setScrollClips();\n\n\t},\n\tselectAll() {\n\n\t\tthis.text.selectionStart = 0;\n\t\tthis.text.selectionLength = this.chars.length;\n\t\tthis.setValue();\n\n\t},\n\tincreaseWrap() {\n\n\t\tlet child = this.text.object3D.children[ this.text.object3D.children.length - 1 ];\n\t\tif ( ! child ) return;\n\t\tif ( child.geometry.layout._linesTotal > 1 ) {\n\n\t\t\tthis.text.setAttribute( \"width\", this.text.getAttribute( \"width\" ) * 1.2 );\n\t\t\tthis.text.setAttribute( \"wrap-pixels\", this.text.getAttribute( \"width\" ) * 500 );\n\t\t\tthis.text.setAttribute( \"x-offset\", ( this.text.getAttribute( \"width\" ) - this.data.width ) / 2 );\n\t\t\tthis.increaseWrap();\n\n\t\t}\n\n\t},\n\tsetScrollClips() {\n\n\t\t//this.text.object3D.updateMatrixWorld();\n\t\t//this.backing.object3D.parent.updateMatrixWorld();\n\t\tthis.content_clips[ 0 ].set( new THREE.Vector3( - 1, 0, 0 ), this.data.width / 2 + 0.005 );\n\t\tthis.content_clips[ 1 ].set( new THREE.Vector3( 1, 0, 0 ), this.data.width / 2 + 0.005 );\n\t\tthis.content_clips[ 0 ].applyMatrix4( this.backing.object3D.matrixWorld );\n\t\tthis.content_clips[ 1 ].applyMatrix4( this.backing.object3D.matrixWorld );\n\t\tsetTimeout( () => {\n\n\t\t\tlet child = this.text.object3D.children[ this.text.object3D.children.length - 1 ];\n\t\t\tif ( child ) child.material.clippingPlanes = this.text._content_clips ? this.text._content_clips.concat( this.content_clips ) : this.content_clips;\n\n\t\t}, 0 );\n\t\tlet selectionHeight = this.selectionHighlight.getObject3D( \"mesh\" );\n\t\tif ( selectionHeight ) {\n\n\t\t\tselectionHeight.material.clippingPlanes = this.text._content_clips ? this.text._content_clips.concat( this.content_clips ) : this.content_clips;\n\n\t\t}\n\t\tlet carret = this.carret.getObject3D( \"mesh\" );\n\t\tif ( carret ) {\n\n\t\t\tcarret.material.clipShadows = true;\n\t\t\tcarret.material.needsUpdate = true;\n\t\t\tcarret.material.clippingPlanes = this.text._content_clips ? this.text._content_clips.concat( this.content_clips ) : this.content_clips;\n\n\t\t}\n\n\t},\n\tnumberOnly( e, is_float ) {\n\n\t\t// Stolen from stack overflow.\n\t\tif (\n\t\t\t[ 46, 8, 9, 27, 13, 110 ].indexOf( e.keyCode ) !== - 1 ||\n      // Allow: Ctrl/cmd+A\n      ( e.keyCode === 65 && ( e.ctrlKey === true || e.metaKey === true ) ) ||\n      // Allow: Ctrl/cmd+C\n      ( e.keyCode === 67 && ( e.ctrlKey === true || e.metaKey === true ) ) ||\n      // Allow: Ctrl/cmd+X\n      ( e.keyCode === 88 && ( e.ctrlKey === true || e.metaKey === true ) ) ||\n      // Allow: home, end, left, right\n      ( e.keyCode >= 35 && e.keyCode <= 39 )\n\t\t) {\n\n\t\t\t// let it happen, don't do anything\n\t\t\treturn true;\n\n\t\t}\n\t\t// Regex to allow float/int input - float inpit allows \"0.\" for as you type numbers - need to remove on blur.\n\t\t// TODO: Need to remove trailing dot on blur to make a valid number.\n\t\tlet output = this.getValue();\n\t\tif ( e ) {\n\n\t\t\treturn ( is_float ? /^\\d*((\\.)|(\\.\\d+))?$/g : /^\\d*?$/g ).test( output + e.key );\n\n\t\t}\n\n\t},\n\tfloatOnly( e ) {\n\n\t\treturn this.numberOnly( e, true );\n\n\t},\n\tfocus() {\n\n\t\tif ( this.isFocused ) return;\n\t\tthis.isFocused = true;\n\t\tthis.setupCarret();\n\t\tthis.setValue();\n\t\tthis.setScrollClips();\n\t\tsetTimeout( () => this.el.sceneEl.addEventListener( \"mousedown\", this.blurHandler ), 50 );\n\t\twindow.addEventListener( \"keydown\", this.keydown );\n\t\tthis.underline.setAttribute( \"height\", 0.008 );\n\t\tthis.underline.setAttribute( \"color\", \"#009688\" );\n\n\t},\n\tblur() {\n\n\t\tthis.isFocused = false;\n\t\tclearInterval( this.carretInterval );\n\t\tthis.carret.getObject3D( \"mesh\" ).material.opacity = 0;\n\t\tthis.el.sceneEl.removeEventListener( \"mousedown\", this.blurHandler );\n\t\tthis.playPauseCamera( \"play\" );\n\t\twindow.removeEventListener( \"keydown\", this.keydown );\n\t\tUI.utils.stoppedChanging( this.text.object3D.uuid );\n\t\tthis.underline.setAttribute( \"height\", 0.005 );\n\t\tthis.underline.setAttribute( \"color\", \"#bfbfbf\" );\n\t\tif ( this.chars.length && this.chars[ this.chars.length - 1 ].char === \".\" && this.data.type === \"number\" ) {\n\n\t\t\tthis.chars.pop();\n\t\t\tthis.setValue();\n\n\t\t}\n\n\t},\n\thandleKeyboardEvent( e ) {\n\n\t\tif ( e.keyCode === 88 && e.ctrlKey ) {\n\t\t\t//CTRL + X\n\t\t\t// let selection = window.getSelection();\n\t\t\t// selection.removeAllRanges();\n\t\t\t//\n\t\t\t// let textNode = document.createTextNode('lol')\n\t\t\t// document.body.appendChild(textNode)\n\t\t\t//\n\t\t\t// let range = document.createRange();\n\t\t\t// range.setStart(textNode, 1);\n\t\t\t// range.setEnd(textNode, 3);\n\t\t\t//\n\t\t\t// selection.addRange(range)\n\t\t\t//\n\t\t\t// document.execCommand('copy')\n\t\t\t//\n\t\t\t// document.body.removeChild(textNode)\n\t\t\t// TODO: Clipboard API?? - https://stackoverflow.com/questions/6413036/get-current-clipboard-content\n\t\t\t// const modifyCopy = e => {\n\t\t\t//     console.log('copy executed!')\n\t\t\t//     e.clipboardData.setData('text/plain', 'Please don\\'t copy our work!');\n\t\t\t//     e.preventDefault();\n\t\t\t// };\n\t\t\t//\n\t\t\t// document.addEventListener('copy', modifyCopy);\n\t\t}\n\t\tif ( e.keyCode === 67 && e.ctrlKey ) {\n\t\t\t//CTRL + C\n\t\t} else if ( e.keyCode === 86 && e.ctrlKey ) {\n\t\t\t//CTRL + V\n\t\t} else if ( e.keyCode === 65 && e.ctrlKey ) {\n\n\t\t\t//CTRL + A\n\t\t\tthis.text.selectionStart = 0;\n\t\t\tthis.text.selectionLength = this.chars.length;\n\n\t\t} else if ( e.code.indexOf( \"Key\" ) > - 1 || e.code.indexOf( \"Digit\" ) > - 1 || this.charsAllowed.indexOf( e.key ) > - 1 ) {\n\n\t\t\tlet check = true;\n\t\t\tswitch ( this.data.type ) {\n\n\t\t\t\tcase \"number\":\n\t\t\t\t\tcheck = this.floatOnly( e );\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"int\":\n\t\t\t\t\tconsole.log( this.numberOnly( e ) );\n\t\t\t\t\tcheck = this.numberOnly( e );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\t\t\tif ( check ) {\n\n\t\t\t\tthis.chars.splice( this.text.selectionStart, this.text.selectionLength, { char: e.key } );\n\t\t\t\tthis.text.selectionStart ++;\n\t\t\t\tthis.text.selectionLength = 0;\n\n\t\t\t}\n\n\t\t} else if ( e.keyCode === 46 ) {\n\n\t\t\t// Delete\n\t\t\tthis.chars.splice( this.text.selectionStart, this.text.selectionLength || 1 );\n\t\t\tthis.text.selectionStart = this.text.selectionStart > this.chars.length ? this.chars.length : this.text.selectionStart;\n\t\t\tthis.text.selectionLength = 0;\n\n\t\t} else if ( e.keyCode === 39 ) {\n\n\t\t\tif ( ! e.shiftKey ) {\n\n\t\t\t\tif ( this.text.selectionLength ) {\n\n\t\t\t\t\tthis.text.selectionStart += this.text.selectionLength;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.text.selectionStart ++;\n\n\t\t\t\t}\n\t\t\t\tthis.text.selectionLength = 0;\n\t\t\t\tif ( this.text.selectionStart > this.chars.length ) this.text.selectionStart = this.chars.length;\n\t\t\t\tdelete this.shiftStartPos;\n\n\t\t\t} else {\n\n\t\t\t\tif ( ! this.shiftStartPos ) {\n\n\t\t\t\t\tthis.shiftStartPos = this.text.selectionStart;\n\n\t\t\t\t}\n\t\t\t\tif ( this.text.selectionStart < this.shiftStartPos ) {\n\n\t\t\t\t\tthis.text.selectionStart ++;\n\t\t\t\t\tthis.text.selectionLength = Math.abs( this.shiftStartPos - this.text.selectionStart );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.text.selectionLength ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( e.keyCode === 37 ) {\n\n\t\t\tif ( ! e.shiftKey ) {\n\n\t\t\t\tif ( ! this.text.selectionLength ) {\n\n\t\t\t\t\tthis.text.selectionStart --;\n\n\t\t\t\t}\n\t\t\t\tthis.text.selectionLength = 0;\n\t\t\t\tif ( this.text.selectionStart < 0 ) this.text.selectionStart = 0;\n\t\t\t\tdelete this.shiftStartPos;\n\n\t\t\t} else {\n\n\t\t\t\tif ( ! this.shiftStartPos ) {\n\n\t\t\t\t\tthis.shiftStartPos = this.text.selectionStart;\n\n\t\t\t\t}\n\t\t\t\tif ( this.text.selectionStart + this.text.selectionLength > this.shiftStartPos ) {\n\n\t\t\t\t\tthis.text.selectionLength --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.text.selectionStart --;\n\t\t\t\t\tthis.text.selectionLength = Math.abs( this.shiftStartPos - this.text.selectionStart );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( this.text.selectionLength ) {\n\n\t\t\t\tif ( e.keyCode === 8 ) {\n\n\t\t\t\t\t// Backspace\n\t\t\t\t\tthis.chars.splice( this.text.selectionStart, this.text.selectionLength );\n\t\t\t\t\tthis.text.selectionLength = 0;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( e.keyCode === 8 ) {\n\n\t\t\t\t\t// Backspace\n\t\t\t\t\tif ( this.text.selectionStart ) {\n\n\t\t\t\t\t\tthis.chars.splice( this.text.selectionStart - 1, this.text.selectionLength || 1 );\n\t\t\t\t\t\tthis.text.selectionStart = this.text.selectionStart - 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( e.keyCode === 32 ) {\n\n\t\t\t\t\t// Space\n\t\t\t\t\tthis.chars.splice( this.text.selectionStart, 0, { char: \" \" } );\n\t\t\t\t\tthis.text.selectionStart ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\t\tthis.el.emit( \"ui-keypress\", e );\n\t\tthis.setValue();\n\t\tthis.carret.getObject3D( \"mesh\" ).material.opacity = 1;\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t},\n\tsetValue() {\n\n\t\tthis.setScrolledValue();\n\t\tthis.setCharacters();\n\t\tthis.setSelection( this.text.selectionStart, this.text.selectionLength );\n\t\tthis.increaseWrap();\n\n\t},\n\tsetScrolledValue() {\n\n\t\tlet output = this.getValue();\n\t\tthis.text.setAttribute( \"value\", output );\n\t\tif ( ! this.chars.length ) {\n\n\t\t\tthis.text.setAttribute( \"color\", \"#bfbfbf\" );\n\t\t\tthis.text.setAttribute( \"value\", this.data.placeHolder );\n\n\t\t} else {\n\n\t\t\tthis.text.setAttribute( \"value\", output );\n\t\t\tthis.text.setAttribute( \"color\", \"#2f2f2f\" );\n\n\t\t}\n\n\t},\n\tonMousemove( e ) {\n\n\t\tlet currentSelection = this.getSelectionPosition( e );\n\t\tif ( ! this.isMoving ) {\n\n\t\t\tthis.isMoving = true;\n\t\t\tthis.startSelection = currentSelection;\n\n\t\t}\n\t\tlet selection = this.getNearestGlyph( this.startSelection, currentSelection );\n\t\tthis.selectionHighlight.setAttribute( \"scale\", selection.end - selection.start + \" 1 1\" );\n\t\tthis.selectionHighlight.setAttribute( \"position\", selection.start + ( selection.end - selection.start ) / 2 + \" 0 0.001\" );\n\t\tthis.carret.setAttribute( \"position\", selection.end + \" 0 0.001\" );\n\n\t},\n\tsetupElements() {\n\n\t\tthis.container = document.createElement( \"a-entity\" );\n\t\tthis.container.setAttribute( \"position\", this.data.width / 2 + \" 0 0\" );\n\n\t\tthis.text = document.createElement( \"a-text\" );\n\t\tthis.text.setAttribute( \"color\", \"#2f2f2f\" );\n\t\tthis.text.setAttribute( \"anchor\", \"center\" );\n\t\tthis.text.setAttribute( \"align\", \"left\" );\n\t\tthis.text.setAttribute( \"width\", this.data.width );\n\t\tthis.text.setAttribute( \"wrap-pixels\", this.data.width * 500 );\n\t\tthis.text.className = \"no-yoga-layout\";\n\t\tthis.text.setAttribute( \"height\", this.data.height );\n\t\tthis.text.setAttribute( \"value\", this.data.value );\n\t\tthis.container.appendChild( this.text );\n\n\t\tthis.selectionHighlight = document.createElement( \"a-plane\" );\n\t\tthis.selectionHighlight.setAttribute( \"width\", 1 );\n\t\tthis.selectionHighlight.setAttribute( \"scale\", \"0 1 1\" );\n\t\tthis.selectionHighlight.setAttribute( \"height\", 0.16 );\n\t\tthis.selectionHighlight.setAttribute( \"transparent\", true );\n\t\tthis.selectionHighlight.className = \"no-yoga-layout\";\n\t\tthis.selectionHighlight.setAttribute( \"color\", \"#009688\" );\n\t\tthis.selectionHighlight.setAttribute( \"shader\", \"flat\" );\n\t\tthis.selectionHighlight.setAttribute( \"opacity\", 0.3 );\n\t\tthis.selectionHighlight.setAttribute( \"position\", \"0 0 0.001\" );\n\t\tthis.text.appendChild( this.selectionHighlight );\n\n\t\tthis.carret = document.createElement( \"a-plane\" );\n\t\tthis.carret.setAttribute( \"width\", 0.01 );\n\t\tthis.carret.setAttribute( \"height\", 0.12 );\n\t\tthis.carret.setAttribute( \"transparent\", true );\n\t\tthis.carret.setAttribute( \"opacity\", 0 );\n\t\tthis.carret.setAttribute( \"shader\", \"flat\" );\n\t\tthis.carret.className = \"no-yoga-layout\";\n\t\tthis.carret.setAttribute( \"color\", \"#009688\" );\n\t\tthis.carret.setAttribute( \"position\", - ( this.data.width / 2 ) + \" 0 0.001\" );\n\t\tthis.text.appendChild( this.carret );\n\n\t\tthis.backing = document.createElement( \"a-plane\" );\n\t\tthis.backing.className = \"intersectable no-yoga-layout\";\n\t\tthis.backing.setAttribute( \"width\", this.data.width + 0.1 );\n\t\tthis.backing.setAttribute( \"height\", this.data.height );\n\t\tthis.backing.setAttribute( \"color\", this.data.backgroundColor );\n\t\tthis.backing.setAttribute( \"shader\", \"flat\" );\n\t\tthis.container.appendChild( this.backing );\n\n\t\tthis.underline = document.createElement( \"a-plane\" );\n\t\tthis.underline.setAttribute( \"width\", this.data.width );\n\t\tthis.underline.setAttribute( \"height\", 0.005 );\n\t\tthis.underline.className = \"no-yoga-layout\";\n\t\tthis.underline.setAttribute( \"shader\", \"flat\" );\n\t\tthis.underline.setAttribute( \"color\", \"#bfbfbf\" );\n\t\tthis.underline.setAttribute( \"position\", \"0 -0.072 0.001\" );\n\t\tthis.container.appendChild( this.underline );\n\n\t\tthis.el.appendChild( this.container );\n\n\t},\n\tsetupCarret() {\n\n\t\tlet material = this.carret.getObject3D( \"mesh\" ).material;\n\t\tthis.carretInterval = setInterval( () => {\n\n\t\t\tmaterial.opacity = material.opacity ? 0 : 1;\n\t\t\tUI.utils.isChanging( this.el.sceneEl, this.text.object3D.uuid );\n\n\t\t}, 350 );\n\n\t},\n\tvalue( text ) {\n\n\t\tif ( text || text === \"\" ) {\n\n\t\t\tthis.chars = text.split( \"\" ).map( char => ( { char: char } ) );\n\t\t\tthis.setValue();\n\t\t\t// set value\n\n\t\t} else {\n\n\t\t\treturn this.chars.map( c => c.char ).join( \"\" );\n\n\t\t}\n\n\t},\n\tgetValue() {\n\n\t\tlet output = \"\";\n\t\tfor ( let i = 0; i < this.chars.length; i ++ ) {\n\n\t\t\toutput += this.data.type === \"password\" ? \"*\" : this.chars[ i ].char;\n\n\t\t}\n\t\treturn output;\n\n\t},\n\tgetSelectionPosition( e ) {\n\n\t\tthis.el.object3D.updateMatrixWorld();\n\t\treturn this.text.object3D.worldToLocal( e.detail.intersection.point.clone() ).x;\n\n\t},\n\tplayPauseCamera( method ) {\n\n\t\tlet el = this.data.cameraEl;\n\t\tif ( el && el.components[ this.data.lookControlsComponent ] ) {\n\n\t\t\tel.components[ this.data.lookControlsComponent ][ method ]();\n\n\t\t}\n\n\t\tif ( this.data.rigEl ) {\n\n\t\t\tel = this.data.rigEl;\n\n\t\t}\n\n\t\tif ( el && el.components[ this.data.wasdControlsComponent ] ) {\n\n\t\t\tel.components[ this.data.wasdControlsComponent ][ method ]();\n\n\t\t}\n\n\t},\n\tsetCharacters() {\n\n\t\tthis.positions = [];\n\t\tlet child = this.text.object3D.children[ this.text.object3D.children.length - 1 ];\n\t\tif ( ! this.chars.length || ! child ) return;\n\t\tlet glyphs = child.geometry.layout.glyphs;\n\t\tlet scale = child.scale.x;\n\t\tlet lastPosition = 0;\n\t\tfor ( let i = 0; i < glyphs.length; i ++ ) {\n\n\t\t\tlet glyph = glyphs[ i ];\n\t\t\tlet currentWidth = this.chars[ i ].char === \" \" ? 20 : glyph.data.width;\n\t\t\tlet current = ( glyph.position[ 0 ] + currentWidth + glyph.position[ 1 ] ) * scale + 0.08;\n\t\t\tif ( i === 0 ) {\n\n\t\t\t\tlastPosition = ( glyph.position[ 0 ] + glyph.position[ 1 ] ) * scale + 0.08;\n\n\t\t\t}\n\t\t\tif ( ! this.chars[ i ].id ) {\n\n\t\t\t\tthis.chars[ i ].id = glyph.data.id;\n\t\t\t\tthis.chars[ i ].width = current - lastPosition;\n\n\t\t\t}\n\t\t\tthis.chars[ i ].left = lastPosition;\n\t\t\tlastPosition = current;\n\n\t\t}\n\n\t},\n\tgetNearestGlyph( startPosition, endPosition ) {\n\n\t\tlet width = Number( this.text.getAttribute( \"width\" ) );\n\t\tlet parentWidth = this.data.width;\n\t\tif ( endPosition < startPosition ) {\n\n\t\t\tlet tempPosition = endPosition;\n\t\t\tendPosition = startPosition;\n\t\t\tstartPosition = tempPosition;\n\n\t\t}\n\t\tif ( startPosition < - parentWidth / 2 ) {\n\n\t\t\tstartPosition = - parentWidth / 2;\n\n\t\t}\n\t\tif ( endPosition > width - parentWidth / 2 ) {\n\n\t\t\tendPosition = width - parentWidth / 2;\n\n\t\t}\n\t\tlet startDiff = Number.POSITIVE_INFINITY;\n\t\tlet endDiff = Number.POSITIVE_INFINITY;\n\t\tlet output = { start: 0, end: 0 };\n\t\tif ( this.chars.length ) {\n\n\t\t\tfor ( let i = 0; i <= this.chars.length; i ++ ) {\n\n\t\t\t\tlet position = this.chars[ i === this.chars.length ? i - 1 : i ];\n\t\t\t\tlet currentPosition = ( i === this.chars.length ? position.left + position.width : position.left ) - parentWidth / 2;\n\t\t\t\tif ( Math.abs( startPosition - currentPosition ) < startDiff ) {\n\n\t\t\t\t\tstartDiff = Math.abs( startPosition - currentPosition );\n\t\t\t\t\toutput.start = currentPosition;\n\t\t\t\t\tthis.text.selectionStart = i;\n\n\t\t\t\t}\n\t\t\t\tif ( Math.abs( endPosition - currentPosition ) < endDiff ) {\n\n\t\t\t\t\tendDiff = Math.abs( endPosition - currentPosition );\n\t\t\t\t\toutput.end = currentPosition;\n\t\t\t\t\tthis.text.selectionLength = i - this.text.selectionStart;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\t\treturn output;\n\n\t},\n\tsetSelection( start, length ) {\n\n\t\tthis.text.selectionStart = start;\n\t\tthis.text.selectionLength = length;\n\t\tlet right = 0,\n\t\t\tleft = 0;\n\t\tfor ( let i = 0; i < this.chars.length; i ++ ) {\n\n\t\t\tlet position = this.chars[ i ];\n\t\t\tif ( i >= start && i < start + length + 1 ) {\n\n\t\t\t\tlet current = position.left;\n\t\t\t\tif ( i === start ) {\n\n\t\t\t\t\tleft = current;\n\n\t\t\t\t}\n\t\t\t\tright = current;\n\n\t\t\t}\n\n\t\t}\n\t\tlet end = this.chars.length ? this.chars[ this.chars.length - 1 ].left + this.chars[ this.chars.length - 1 ].width : 0;\n\t\tif ( start + length === this.chars.length ) {\n\n\t\t\tright = end;\n\n\t\t}\n\t\tif ( start === this.chars.length ) {\n\n\t\t\tleft = right = end;\n\n\t\t}\n\t\tlet parentWidth = this.data.width;\n\t\tthis.selectionHighlight.setAttribute( \"scale\", right - left + \" 1 1\" );\n\t\tthis.selectionHighlight.setAttribute( \"position\", left + ( right - left ) / 2 - parentWidth / 2 + \" 0 0.001\" );\n\t\tlet carretPosition = right - parentWidth / 2;\n\t\tthis.carret.setAttribute( \"position\", carretPosition + \" 0 0.001\" );\n\n\t\tif ( carretPosition > parentWidth / 2 - this.scrollOffset ) {\n\n\t\t\tthis.scrollOffset = - ( carretPosition - parentWidth / 2 );\n\t\t\tthis.text.setAttribute( \"position\", this.scrollOffset + \" 0 0\" );\n\n\t\t}\n\n\t\tif ( carretPosition + parentWidth / 2 < - this.scrollOffset ) {\n\n\t\t\tthis.scrollOffset += - this.scrollOffset - ( carretPosition + parentWidth / 2 );\n\t\t\tif ( this.scrollOffset > 0 ) this.scrollOffset = 0;\n\t\t\tthis.text.setAttribute( \"position\", this.scrollOffset + \" 0 0\" );\n\n\t\t}\n\n\t},\n\tupdateSchema() {}\n} );\n//\n","/* global AFRAME,TWEEN */\n/**\n * Button base Component for aframe-material-collection. This is used as the base component for all the button primitives.\n * @namespace aframe-material-collection\n * @component ui-btn\n * @author Shane Harris\n */\n\nmodule.exports = AFRAME.registerComponent( \"ui-btn\", {\n\tschema: {\n\t\tduration: { type: \"int\", default: 250 },\n\t\thoverHeight: { type: \"number\", default: 0.01 },\n\t\tactiveHeight: { type: \"number\", default: - 0.001 },\n\t\tdisabled: { type: \"boolean\", default: false },\n\t\tanimated: { type: \"boolean\", default: true }\n\t},\n\tupdateSchema() {\n\t\t// TODO: handle updates to the button state, disabled flag here.\n\t},\n\tinit() {\n\n\t\t// Store the current button z value for animating mouse events\n\t\tthis.defaultZ = this.el.object3D.position.z;\n\t\tthis.el.setAttribute( \"class\", \"ui\" );\n\t\t// register input events for interaction\n\t\tif ( ! this.data.disabled ) {\n\n\t\t\tthis.el.addEventListener( \"mouseover\", e => this.mouseEnter( e ) );\n\t\t\tthis.el.addEventListener( \"mousedown\", e => this.mouseDown( e ) );\n\t\t\tthis.el.addEventListener( \"mouseup\", e => this.mouseUp( e ) );\n\t\t\tthis.el.addEventListener( \"mouseout\", e => this.mouseLeave( e ) );\n\n\t\t}\n\n\t},\n\tupdate() {\n\n\t\tif ( this.data.disabled ) {\n\n\t\t\tthis.el.addEventListener( \"mouseover\", e => this.mouseEnter( e ) );\n\t\t\tthis.el.addEventListener( \"mousedown\", e => this.mouseDown( e ) );\n\t\t\tthis.el.addEventListener( \"mouseup\", e => this.mouseUp( e ) );\n\t\t\tthis.el.addEventListener( \"mouseout\", e => this.mouseLeave( e ) );\n\n\t\t} else {\n\n\t\t\tthis.el.removeEventListener( \"mouseover\", e => this.mouseEnter( e ) );\n\t\t\tthis.el.removeEventListener( \"mousedown\", e => this.mouseDown( e ) );\n\t\t\tthis.el.removeEventListener( \"mouseup\", e => this.mouseUp( e ) );\n\t\t\tthis.el.removeEventListener( \"mouseout\", e => this.mouseLeave( e ) );\n\n\t\t}\n\n\t},\n\tmouseEnter( e ) {\n\n\t\tif ( this.data.animated ) {\n\t\t\n\t\t\t//this.el.sceneEl.classList.remove(\"initial-cursor\");\t\n            //this.el.sceneEl.classList.add(\"pointer-cursor\");\t\n\t\t\t\n\t\t\tconst _this = this;\n\t\t\t// Lift the button up for hover animation\n\t\t\tthis.tween(\n\t\t\t\tthis.defaultZ,\n\t\t\t\tthis.defaultZ + this.data.hoverHeight,\n\t\t\t\tfunction () {\n\n\t\t\t\t\t_this.el.object3D.position.z = this.x;\n\n\t\t\t\t},\n\t\t\t\tfunction () {\n\n\t\t\t\t\t_this.el.object3D.position.z = _this.defaultZ + _this.data.hoverHeight;\n\n\t\t\t\t}\n\t\t\t);\n\n\t\t}\n\t\t//UI.utils.preventDefault(e)\n\n\t},\n\tmouseLeave( e ) {\n\n\t\t// Ignore mouse leave event if the button was clicked - mouse up already resets to default state.\n\t\tif ( this.is_clicked ) {\n\n\t\t\treturn ( this.is_clicked = false );\n\n\t\t}\n\t\t// Reset button state from hover\n\t\tif ( this.data.animated ) {\n\t\t\tthis.resetAnimation( this.defaultZ + this.data.hoverHeight );\n\t\t\t//this.el.sceneEl.classList.remove(\"pointer-cursor\");\t\n\t\t\t//this.el.sceneEl.classList.add(\"initial-cursor\");\t\n\t\t}\n\t\t//UI.utils.preventDefault(e)\n\n\t},\n\tmouseUp( e ) {\n\n\t\tthis.is_clicked = true;\n\t\t// Reset button state from pressed\n\t\tif ( this.data.animated ) this.resetAnimation( this.defaultZ + this.data.activeHeight );\n\t\tUI.utils.preventDefault( e );\n\n\t},\n\tmouseDown( e ) {\n\n\t\tconst _this = this;\n\t\t// Press state animation from hovered\n\t\t/*  this.tween(\n      this.defaultZ + this.data.hoverHeight,\n      this.defaultZ + this.data.activeHeight,\n      function() {\n        _this.el.object3D.position.z = this.x;\n      },\n      function() {\n        _this.el.object3D.position.z = _this.defaultZ + _this.data.activeHeight;\n      }\n    );\n    */\n\t\tUI.utils.preventDefault( e );\n\n\t},\n\tresetAnimation( start_z ) {\n\n\t\tlet _this = this;\n\t\tthis.tween(\n\t\t\tstart_z,\n\t\t\tthis.defaultZ,\n\t\t\tfunction () {\n\n\t\t\t\t_this.el.object3D.position.z = this.x;\n\n\t\t\t},\n\t\t\tfunction () {\n\n\t\t\t\t_this.el.object3D.position.z = _this.defaultZ;\n\n\t\t\t}\n\t\t);\n\n\t},\n\ttween( from, to, callback, complete ) {\n\n\t\tlet _this = this;\n\t\t// Start changes\n\t\tUI.utils.isChanging( this.el.sceneEl, this.el.object3D.uuid );\n\t\treturn new TWEEN.Tween( { x: from } )\n\t\t\t.to( { x: to }, this.data.duration )\n\t\t\t.onUpdate( callback )\n\t\t\t.onComplete( function () {\n\n\t\t\t\t// Stop changes\n\t\t\t\tUI.utils.stoppedChanging( _this.el.object3D.uuid );\n\t\t\t\treturn complete.call( this );\n\n\t\t\t} )\n\t\t\t.easing( TWEEN.Easing.Exponential.Out )\n\t\t\t.start();\n\n\t}\n} );\n","/* global AFRAME,TWEEN,THREE */\n/**\n * Slider Component for aframe-material-collection. Includes a disabled state.\n * @namespace aframe-material-collection\n * @component ui-slider\n * @author Shane Harris\n */\n\nmodule.exports = AFRAME.registerComponent( \"ui-slider\", {\n\tschema: {\n\t\tvalue: { type: \"number\", default: 0 },\n\t\tdisabled: { type: \"boolean\", default: false },\n\t\tprogressColor: { default: \"#4db6ac\" },\n\t\thandleColor: { default: \"#606572\" },\n\t\thandleDisabledColor: { default: \"#afafaf\" },\n\t\trailColor: { default: \"#fff\" },\n\t\thandleZIndex: { type: \"number\", default: 0.001 },\n\t\tintersectableClass: { default: \"intersectable\" },\n\t\twidth: { type: \"number\", default: 0.5 },\n\t\theight: { type: \"number\", default: 0.1 },\n\t\tlookControlsComponent: { default: \"look-controls\" },\n\t\thandleRadius: { type: \"number\", default: 0.055 },\n\t\tscrollZOffset: { type: \"number\", default: 0 },\n\t\tcameraEl: { type: \"selector\" }\n\t},\n\tgetValue() {\n\n\t\treturn this.scroll_perc;\n\n\t},\n\tinit() {\n\n\t\tthis.scroll_perc = this.data.value;\n\t\tthis.width = this.data.width;\n\t\tthis.height = this.data.height;\n\t\t// Setup background with mouse input to catch mouse move events when not exactly over the scroll bar.\n\t\tthis.backgroundPanel = document.createElement( \"a-plane\" );\n\t\tthis.backgroundPanel.setAttribute( \"class\", \"no-yoga-layout background \" + this.data.intersectableClass );\n\t\tthis.backgroundPanel.setAttribute( \"width\", this.data.width + 0.01 );\n\t\tthis.backgroundPanel.setAttribute( \"height\", this.data.height + 0.01 );\n\t\tthis.backgroundPanel.setAttribute( \"position\", \"0 0 -0.02\" );\n\t\t//this.backgroundPanel.setAttribute(\"opacity\", 0.0001); //\n\t\tthis.backgroundPanel.setAttribute( \"transparent\", false );\n\t\tthis.backgroundPanel.setAttribute( \"visible\", false );\n\t\tthis.el.appendChild( this.backgroundPanel );\n\t\t// Setup handle circle entity.\n\t\tthis.handleEl = document.createElement( \"a-circle\" );\n\t\tthis.handleEl.setAttribute( \"radius\", this.data.handleRadius );\n\t\tthis.handleEl.setAttribute( \"color\", this.data.handleColor );\n\t\tthis.handleEl.setAttribute( \"shader\", \"flat\" );\n\t\t// this.handleEl.setAttribute('ui-ripple','size:0.1 0.1;color:#999;fadeDelay:300;duration:500');\n\t\tthis.handleEl.setAttribute( \"class\", this.data.intersectableClass + \" no-yoga-layout\" );\n\t\tthis.handleEl.setAttribute( \"position\", - this.data.width / 2 + this.data.handleRadius + \" 0 \" + this.data.handleZIndex );\n\t\tthis.handleEl.setAttribute( \"segments\", 6 );\n\t\tthis.el.appendChild( this.handleEl );\n\n\t\t// Setup rail entity.\n\t\tthis.railEl = document.createElement( \"a-plane\" );\n\t\tthis.railEl.setAttribute( \"width\", this.data.width - 0.1 );\n\t\tthis.railEl.setAttribute( \"height\", \"0.05\" );\n\t\tthis.railEl.setAttribute( \"shader\", \"flat\" );\n\t\tthis.railEl.setAttribute( \"ui-rounded\", \"borderRadius:0.025\" );\n\t\tthis.railEl.setAttribute( \"color\", this.data.railColor );\n\t\tthis.railEl.setAttribute( \"class\", this.data.intersectableClass + \" no-yoga-layout\" );\n\t\tthis.el.appendChild( this.railEl );\n\t\t// Wait for the rounded edge on the rail to load to clone the geometry for the\n\t\t// selected progress bar part of the rail\n\t\tthis.railEl.addEventListener( \"rounded-loaded\", () => {\n\n\t\t\tthis.getRailObject( this.railEl.object3D );\n\t\t\tthis.slide( this.scroll_perc, true );\n\n\t\t} );\n\t\t// Pause/play camera look controls\n\t\tconst playPauseCamera = method => {\n\n\t\t\tif ( this.data.cameraEl ) {\n\n\t\t\t\tlet lookControls = this.data.cameraEl.components[ this.data.lookControlsComponent ];\n\t\t\t\tif ( lookControls ) {\n\n\t\t\t\t\tlookControls[ method ]();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\t\t// Setup mouse move handler for scrolling and updating scroll handle.\n\t\tconst mousemove = e => this.mouseMove( e );\n\t\t// Start scroll\n\t\tthis.handleEl.addEventListener( \"mousedown\", e => {\n\n\t\t\t// Pause look controls to allow scrolling\n\t\t\tplayPauseCamera( \"pause\" );\n\t\t\tthis.isDragging = true;\n\t\t\t// Store the start point offset\n\t\t\tthis.el.emit( \"slide-start\", this.scroll_perc );\n\t\t\tthis.handlePos = this.handleEl.object3D.worldToLocal( e.detail.intersection ? e.detail.intersection.point : e.relatedTarget.object3D.position ).x;\n\t\t\tthis.backgroundPanel.addEventListener( \"ui-mousemove\", mousemove );\n\t\t\t// Start changes\n\t\t\tUI.utils.isChanging( this.el.sceneEl, this.handleEl.object3D.uuid );\n\t\t\t// Prevent default behaviour of event\n\t\t\tUI.utils.preventDefault( e );\n\n\t\t} );\n\t\t// End scroll\n\t\tconst endScroll = e => {\n\n\t\t\tif ( this.isDragging ) {\n\n\t\t\t\tthis.backgroundPanel.removeEventListener( \"ui-mousemove\", mousemove );\n\t\t\t\t// Play look controls once scrolling is finished\n\t\t\t\tplayPauseCamera( \"play\" );\n\t\t\t\tthis.isDragging = false;\n\t\t\t\t// Stop changes\n\t\t\t\tthis.el.emit( \"slide-end\", this.scroll_perc );\n\t\t\t\tUI.utils.stoppedChanging( this.handleEl.object3D.uuid );\n\t\t\t\t// Prevent default behaviour of event\n\t\t\t\tUI.utils.preventDefault( e );\n\n\t\t\t}\n\n\t\t};\n\t\tthis.backgroundPanel.addEventListener( \"mouseup\", endScroll );\n\t\tthis.backgroundPanel.addEventListener( \"mouseleave\", endScroll );\n\t\t// // Handle clicks on rail to scroll\n\t\tthis.railEl.addEventListener( \"mousedown\", e => {\n\n\t\t\tUI.utils.isChanging( this.el.sceneEl, this.handleEl.object3D.uuid );\n\t\t\t// Pause look controls\n\t\t\tthis.isDragging = true;\n\t\t\t// Reset handle pos to center of handle\n\t\t\tthis.handlePos = 0;\n\t\t\t// Scroll immediately and register mouse move events.\n\t\t\tthis.slide( this.railEl.object3D.worldToLocal( e.detail.intersection ? e.detail.intersection.point : e.relatedTarget.object3D.position ).x );\n\t\t\tthis.backgroundPanel.addEventListener( \"ui-mousemove\", mousemove );\n\t\t\tthis.el.emit( \"slide-end\", this.scroll_perc );\n\t\t\t// Prevent default behaviour of event\n\t\t\tUI.utils.preventDefault( e );\n\n\t\t} );\n\t\tthis.el.slide = this.slide.bind( this );\n\t\tthis.el.getValue = this.getValue.bind( this );\n\t\tthis.el.railEl = this.railEl;\n\n\t},\n\tslide( positionX, isPerc ) {\n\n\t\tlet min = - this.data.width / 2 + this.data.handleRadius;\n\t\tlet max = this.data.width / 2 - this.data.handleRadius;\n\t\t// Set scroll position with start point offset.\n\t\tlet scroll_pos = isPerc ? min + ( max - min ) * positionX : THREE.Math.clamp( positionX, min, max );\n\t\tthis.scroll_perc = isPerc ? positionX : ( scroll_pos - min ) / ( max - min );\n\t\tthis.el.emit( \"slide\", this.scroll_perc );\n\t\t//this.progress.scale.set( this.scroll_perc || 0.0001, 1, 1 );\n\t\t/*this.progress.position.set(\n\t\t\t- ( this.data.width - this.data.handleRadius ) / 2 + this.scroll_perc * ( ( this.data.width - this.data.handleRadius ) / 2 ),\n\t\t\t0,\n\t\t\t0.0001\n\t\t);\n\t\t*/\n\t\tthis.handleEl.setAttribute( \"position\", /*((this.data.width/2)+this.data.scrollPadding)+' '+*/ scroll_pos + \" 0 \" + ( this.data.scrollZOffset + 0.0005 ) );\n\n\t},\n\tmouseMove( e ) {\n\n\t\tif ( this.isDragging ) {\n\n\t\t\tlet pos = this.railEl.object3D.worldToLocal( e.detail.intersection.point );\n\t\t\tthis.slide( pos.x - this.handlePos + this.data.handleRadius );\n\n\t\t}\n\n\t},\n\tgetRailObject( object ) {\n\n\t\t// Get the rounded shape geomtery.\n\t\tobject.traverse( child => {\n\n\t\t\tif ( child.geometry && child.geometry.type === \"ShapeBufferGeometry\" ) {\n\n\t\t\t\tthis.progress = new THREE.Mesh( child.geometry.clone(), new THREE.MeshBasicMaterial( { color: this.data.progressColor } ) );\n\t\t\t\tthis.progress.position.set( - this.data.width / 2, 0, 0.0001 );\n\t\t\t\tthis.progress.scale.set( 0.00001, 1, 1 );\n\t\t\t\tthis.el.object3D.add( this.progress );\n\n\t\t\t}\n\n\t\t} );\n\n\t}\n} );\n","/* global AFRAME,TWEEN,THREE */\n/**\n * NUmber widget Component for aframe-material-collection. Includes up/down buttons\n * @namespace aframe-material-collection\n * @component ui-number\n * @author Shane Harris\n */\n\nmodule.exports = AFRAME.registerComponent( \"ui-number\", {\n\tschema: {\n\t\tvalue: { type: \"number\", default: 0 },\n\t\tincrement: { type: \"number\", default: 0.001 },\n\t\twidth: { type: \"number\", default: 0.65 },\n\t\theight: { type: \"number\", default: 0.2 },\n\t\tintersectableClass: { default: \"intersectable\" }\n\t},\n\tinit() {\n\n\t\tthis.setupElements();\n\n\t},\n\tsetupElements() {\n\n\t\tlet numberText = document.createElement( \"a-plane\" );\n\t\tnumberText.setAttribute( \"width\", \"0.55\" );\n\t\tnumberText.setAttribute( \"height\", \"0.2\" );\n\t\tnumberText.className = \"no-yoga-layout\";\n\t\tnumberText.setAttribute( \"color\", \"#212121\" );\n\t\tnumberText.setAttribute( \"text\", \"value:\" + this.data.value.toFixed( 3 ) + \";color:#212121;wrapCount:12;align:center\" );\n\t\tnumberText.setAttribute( \"ui-border\", \"borderRadius:0.1;borderWidth:0.008\" );\n\n\t\tlet upButton = document.createElement( \"a-ui-fab-button-small\" );\n\t\tupButton.setAttribute( \"scale\", \"0.75 0.75 0.75\" );\n\t\tupButton.className = \"no-yoga-layout \" + this.data.intersectableClass;\n\t\tupButton.setAttribute( \"color\", \"#009688\" );\n\t\tupButton.setAttribute( \"position\", \"0.33 0.055 0.001\" );\n\t\tupButton.setAttribute( \"color\", \"#009688\" );\n\t\tupButton.setAttribute( \"icon-color\", \"#fff\" );\n\t\tupButton.setAttribute( \"ripple-color\", \"#009688\" );\n\t\tupButton.setAttribute( \"src\", \"https://cdn.theexpanse.app/images/icons/baseline_keyboard_arrow_up_white_18dp.png\" );\n\t\tupButton.addEventListener( \"click\", () => {\n\n\t\t\tthis.data.value += this.data.increment;\n\t\t\tnumberText.setAttribute( \"text\", \"value:\" + this.data.value.toFixed( 3 ) + \";color:#212121;wrapCount:12;align:center\" );\n\t\t\tthis.el.emit( \"change\", this.data.value );\n\n\t\t} );\n\t\tlet downButton = document.createElement( \"a-ui-fab-button-small\" );\n\t\tdownButton.setAttribute( \"scale\", \"0.75 0.75 0.75\" );\n\t\tdownButton.className = \"no-yoga-layout \" + this.data.intersectableClass;\n\t\tdownButton.setAttribute( \"color\", \"#009688\" );\n\t\tdownButton.setAttribute( \"position\", \"0.33 -0.055 0.001\" );\n\t\tdownButton.setAttribute( \"color\", \"#009688\" );\n\t\tdownButton.setAttribute( \"icon-color\", \"#fff\" );\n\t\tdownButton.setAttribute( \"ripple-color\", \"#009688\" );\n\t\tdownButton.setAttribute( \"src\", \"https://cdn.theexpanse.app/images/icons/down_arrow.png\" );\n\t\tdownButton.addEventListener( \"click\", () => {\n\n\t\t\tthis.data.value -= this.data.increment;\n\t\t\tnumberText.setAttribute( \"text\", \"value:\" + this.data.value.toFixed( 3 ) + \";color:#212121;wrapCount:12;align:center\" );\n\t\t\tthis.el.emit( \"change\", this.data.value );\n\n\t\t} );\n\t\tnumberText.appendChild( upButton );\n\t\tnumberText.appendChild( downButton );\n\t\tthis.el.appendChild( numberText );\n\n\t}\n} );\n\n/*\n<a-plane class=\"zInput\" width=\"0.55\" ui-border=\"borderRadius:0.1;borderWidth:0.008\" height=\"0.2\" color=\"#212121\" text=\"value:{{to-fixed vector.z 3}};color:#212121;wrapCount:12;align:center\">\n        <a-ui-fab-button-small scale=\"0.75 0.75 0.75\" class=\"zInputUp intersectable no-yoga-layout\" color=\"#009688\" position=\"0.33 0.055 0.001\" icon-color=\"#fff\" ripple-color=\"#009688\" src=\"https://cdn.theexpanse.app/images/icons/baseline_keyboard_arrow_up_white_18dp.png\"></a-ui-fab-button-small>\n        <a-ui-fab-button-small scale=\"0.75 0.75 0.75\" class=\"zInputDown intersectable no-yoga-layout\" color=\"#009688\" position=\"0.33 -0.055 0.001\" icon-color=\"#fff\" ripple-color=\"#009688\" src=\"https://cdn.theexpanse.app/images/icons/down_arrow.png\"></a-ui-fab-button-small>\n    </a-plane>\n */\n","/* global AFRAME,TWEEN,THREE */\n/**\n * Switch Component for aframe-material-collection. Includes a disabled state.\n * @namespace aframe-material-collection\n * @component ui-switch\n * @author Shane Harris\n */\n\nmodule.exports = AFRAME.registerComponent( \"ui-switch\", {\n\tschema: {\n\t\tvalue: { type: \"boolean\", default: false },\n\t\tdisabled: { type: \"boolean\", default: false },\n\t\tprogressColor: { default: \"#4db6ac\" },\n\t\thandleColor: { default: \"#606572\" },\n\t\thandleDisabledColor: { default: \"#afafaf\" },\n\t\trailColor: { default: \"#fff\" },\n\t\tswitchDuration: { type: \"int\", default: 350 },\n\t\thandleZIndex: { type: \"number\", default: 0.01 },\n\t\tintersectableClass: { default: \"intersectable\" },\n\t\twidth: { type: \"number\", default: 0.3 },\n\t\theight: { type: \"number\", default: 0.1 }\n\t},\n\tupdateSchema() {\n\n\t\tif ( this.data ) {\n\n\t\t\tif ( this.data.disabled ) {\n\n\t\t\t\tif ( this.data.value ) {\n\n\t\t\t\t\tthis.data.value = false;\n\t\t\t\t\tthis.click();\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.click();\n\n\t\t\t}\n\t\t\tthis.setDisabled();\n\n\t\t}\n\n\t},\n\tinit() {\n\n\t\tthis.width = 0.3;\n\t\tthis.height = 0.1;\n\t\t// Setup handle circle entity.\n\t\tthis.handleEl = document.createElement( \"a-circle\" );\n\t\tthis.handleEl.setAttribute( \"radius\", 0.055 );\n\t\tthis.handleEl.setAttribute( \"color\", this.data.handleColor );\n\t\tthis.handleEl.setAttribute( \"shader\", \"flat\" );\n\t\t//  this.handleEl.setAttribute('ui-ripple','size:0.1 0.1;color:#999;fadeDelay:300;duration:500');\n\t\tthis.handleEl.setAttribute( \"class\", this.data.intersectableClass + \" no-yoga-layout\" );\n\t\tthis.handleEl.setAttribute( \"position\", \"-0.05 0 \" + this.data.handleZIndex );\n\t\tthis.handleEl.setAttribute( \"segments\", 6 );\n\t\tthis.el.appendChild( this.handleEl );\n\n\t\t// Setup rail entity.\n\t\tthis.railEl = document.createElement( \"a-plane\" );\n\t\tthis.railEl.setAttribute( \"width\", \"0.15\" );\n\t\tthis.railEl.setAttribute( \"height\", \"0.05\" );\n\t\tthis.railEl.setAttribute( \"shader\", \"flat\" );\n\t\tthis.railEl.setAttribute( \"ui-rounded\", \"borderRadius:0.025\" );\n\t\tthis.railEl.setAttribute( \"color\", this.data.railColor );\n\t\tthis.railEl.setAttribute( \"class\", this.data.intersectableClass + \" no-yoga-layout\" );\n\t\tthis.el.appendChild( this.railEl );\n\t\t// Wait for the rounded edge on the rail to load to clone the geometry for the\n\t\t// selected progress bar part of the rail\n\t\tthis.railEl.addEventListener( \"rounded-loaded\", () => {\n\n\t\t\tthis.getRailObject( this.railEl.object3D );\n\t\t\tthis.setDisabled();\n\t\t\tthis.click();\n\n\t\t} );\n\t\tthis.clickHandler = e => {\n\n\t\t\tthis.data.value = ! this.data.value;\n\t\t\tthis.click();\n\t\t\t// Prevent default behaviour of event\n\t\t\tif ( e.detail.preventDefault ) {\n\n\t\t\t\te.detail.preventDefault();\n\n\t\t\t}\n\n\t\t};\n\n\t},\n\tsetDisabled() {\n\n\t\t// Add / Remove click handlers based on disabled state.\n\t\tif ( this.data.disabled ) {\n\n\t\t\tthis.handleEl.removeEventListener( \"mousedown\", this.clickHandler );\n\t\t\tthis.handleEl.setAttribute( \"color\", this.data.handleDisabledColor );\n\n\t\t} else {\n\n\t\t\tthis.handleEl.addEventListener( \"mousedown\", this.clickHandler );\n\t\t\tthis.handleEl.setAttribute( \"color\", this.data.handleColor );\n\n\t\t}\n\n\t},\n\tclick() {\n\n\t\t// Emit the current selected value\n\t\tthis.el.emit( \"ui-switch-changed\", this.data.value );\n\t\t// Animate the switch handle and the progress bar.\n\t\tthis.tweenHandle();\n\t\tthis.tweenProgress();\n\n\t},\n\tgetRailObject( object ) {\n\n\t\t// Get the rounded shape geomtery.\n\t\tobject.traverse( child => {\n\n\t\t\tif ( child.geometry && child.geometry.type === \"ShapeBufferGeometry\" ) {\n\n\t\t\t\tthis.progress = new THREE.Mesh( child.geometry.clone(), new THREE.MeshBasicMaterial( { color: this.data.progressColor } ) );\n\t\t\t\tthis.progress.position.set( - 0.075, 0, 0.001 );\n\t\t\t\tthis.progress.scale.set( 0.00001, 1, 1 );\n\t\t\t\tthis.el.object3D.add( this.progress );\n\n\t\t\t}\n\n\t\t} );\n\n\t},\n\ttweenProgress() {\n\n\t\tif ( this.progress ) {\n\n\t\t\tnew TWEEN.Tween( this.progress.position )\n\t\t\t\t.to( new THREE.Vector3( this.data.value ? 0 : - 0.075, 0, 0.001 ), this.data.switchDuration )\n\t\t\t\t.easing( TWEEN.Easing.Exponential.Out )\n\t\t\t\t.start();\n\t\t\tnew TWEEN.Tween( this.progress.scale )\n\t\t\t\t.to( new THREE.Vector3( this.data.value ? 1 : 0.00001, 1, 1 ), this.data.switchDuration )\n\t\t\t\t.easing( TWEEN.Easing.Exponential.Out )\n\t\t\t\t.start();\n\n\t\t}\n\n\t},\n\ttweenHandle() {\n\n\t\tif ( this.handleEl ) {\n\n\t\t\t// Start changes\n\t\t\tUI.utils.isChanging( this.el.sceneEl, this.el.object3D.uuid );\n\t\t\tnew TWEEN.Tween( this.handleEl.object3D.position )\n\t\t\t\t.to( new THREE.Vector3( this.data.value ? 0.05 : - 0.05, 0, this.data.handleZIndex ), this.data.switchDuration )\n\t\t\t\t.onComplete( () => {\n\n\t\t\t\t\t// Stop changes\n\t\t\t\t\tUI.utils.stoppedChanging( this.el.object3D.uuid );\n\n\t\t\t\t} )\n\t\t\t\t.easing( TWEEN.Easing.Exponential.Out )\n\t\t\t\t.start();\n\n\t\t}\n\n\t},\n\tremove() {\n\t\tthis.el.removeObject3D('ui-switch');\n\t\t//this.el.object3D.geometry.dispose();\n\t}\n} );\n","/* global AFRAME,TWEEN,THREE */\n/**\n * Toast Component for aframe-material-collection.\n * @namespace aframe-material-collection\n * @component ui-toast\n * @author Shane Harris\n */\n\nmodule.exports = AFRAME.registerComponent( \"ui-toast\", {\n\tschema: {\n\t\ttoastEl: { type: \"selector\" },\n\t\tmessage: { default: \"Hello from toast!\" }\n\t},\n\tinit() {\n\n\t\tthis.originalPosition = this.data.toastEl.getAttribute( \"position\" ).clone();\n\t\tthis.el.addEventListener( \"mousedown\", () => {\n\n\t\t\tif ( this.closeTween ) this.closeTween.stop();\n\t\t\tUI.utils.isChanging( this.el.sceneEl, this.data.toastEl.object3D.uuid );\n\t\t\tthis.data.toastEl.setAttribute( \"visible\", true );\n\t\t\tthis.data.toastEl.setAttribute( \"text-value\", UI.utils.shorten( this.data.message, 85 ) );\n\t\t\tlet _this = this;\n\t\t\tnew TWEEN.Tween( { x: this.originalPosition.x, y: this.originalPosition.y - 0.1, z: this.originalPosition.z } )\n\t\t\t\t.to( this.originalPosition, 350 )\n\t\t\t\t.onUpdate( function () {\n\n\t\t\t\t\t_this.data.toastEl.setAttribute( \"position\", this );\n\n\t\t\t\t} )\n\t\t\t\t.onComplete( () => {\n\n\t\t\t\t\t// Stop changes\n\t\t\t\t\tthis.closeTween = new TWEEN.Tween( { x: 0.8 } )\n\t\t\t\t\t\t.delay( 2000 )\n\t\t\t\t\t\t.to( { x: 0.0001 }, 350 )\n\t\t\t\t\t\t.onUpdate( function () {\n\n\t\t\t\t\t\t\t_this.data.toastEl.setAttribute( \"opacity\", this.x );\n\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.onComplete( () => {\n\n\t\t\t\t\t\t\tthis.data.toastEl.setAttribute( \"visible\", false );\n\t\t\t\t\t\t\tUI.utils.stoppedChanging( this.data.toastEl.object3D.uuid );\n\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.easing( TWEEN.Easing.Exponential.Out )\n\t\t\t\t\t\t.start();\n\n\t\t\t\t} )\n\t\t\t\t.easing( TWEEN.Easing.Exponential.Out )\n\t\t\t\t.start();\n\t\t\tnew TWEEN.Tween( { x: 0.0001 } )\n\t\t\t\t.to( { x: 0.8 }, 350 )\n\t\t\t\t.onUpdate( function () {\n\n\t\t\t\t\t_this.data.toastEl.setAttribute( \"opacity\", this.x );\n\n\t\t\t\t} )\n\t\t\t\t.easing( TWEEN.Easing.Exponential.Out )\n\t\t\t\t.start();\n\n\t\t} );\n\n\t}\n} );\n","/* global AFRAME,TWEEN */\n/**\n * Checkbox Component for aframe-material-collection. Includes animation and disabled state.\n * @namespace aframe-material-collection\n * @component ui-checkbox\n * @author Shane Harris\n */\n\nmodule.exports = AFRAME.registerComponent( \"ui-checkbox\", {\n\tschema: {\n\t\tvalue: { type: \"boolean\", default: false },\n\t\tselectedColor: { default: \"#009688\" },\n\t\tunselectedColor: { default: \"#7f7f7f\" },\n\t\tdisabledColor: { default: \"#afafaf\" },\n\t\tindeterminate: { type: \"boolean\", default: false },\n\t\tdisabled: { type: \"boolean\", default: false },\n\t\tintersectableClass: { default: \"intersectable\" },\n\t\twidth: { type: \"number\", default: 0.15 },\n\t\theight: { type: \"number\", default: 0.15 }\n\t},\n\tinit() {\n\n\t\tthis.width = 0.15;\n\t\tthis.height = 0.15;\n\t\tthis.container = document.createElement( \"a-entity\" );\n\t\tthis.container.setAttribute( \"class\", \"no-yoga-layout\" );\n\t\tthis.el.appendChild( this.container );\n\t\tthis.setupLines();\n\t\t// Add backing element to make the whole object clickable.\n\t\tlet backing = document.createElement( \"a-plane\" );\n\t\tbacking.setAttribute( \"width\", 0.105 );\n\t\tbacking.setAttribute( \"height\", 0.105 );\n\t\tbacking.setAttribute( \"position\", \"0 0 -0.002\" );\n\t\tbacking.setAttribute( \"shader\", \"flat\" );\n\t\tbacking.setAttribute( \"class\", this.data.intersectableClass + \" no-yoga-layout\" );\n\t\tbacking.setAttribute( \"opacity\", 0.0001 );\n\t\tbacking.setAttribute( \"transparent\", true );\n\t\tthis.el.appendChild( backing );\n\t\tthis.clickHandler = () => {\n\n\t\t\tthis.data.value = ! this.data.value;\n\t\t\tthis.click();\n\n\t\t};\n\t\t// Setup initial state\n\t\tthis.setSelected();\n\t\tthis.setDisabled();\n\t\tthis.setTransform( 1 );\n\n\t},\n\tupdateSchema() {\n\n\t\tif ( this.data ) {\n\n\t\t\tthis.setDisabled();\n\t\t\tif ( this.data.disabled ) {\n\n\t\t\t\tif ( this.data.value ) {\n\n\t\t\t\t\tthis.data.value = false;\n\t\t\t\t\tthis.data.indeterminate = false;\n\t\t\t\t\tthis.click();\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.click();\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\tsetTransform( x ) {\n\n\t\t// Adjust position and rotation based on the interpolated value x between 0 and 1.\n\t\t// Used to offset the checkbox when in a checked state\n\t\tif ( this.data.value ) {\n\n\t\t\tthis.container.setAttribute( \"rotation\", { x: 0, y: 0, z: - 45 * x } );\n\t\t\tthis.container.setAttribute( \"position\", { x: - 0.025 * x, y: 0.05 * x, z: 0 } );\n\n\t\t} else {\n\n\t\t\tthis.container.setAttribute( \"rotation\", { x: 0, y: 0, z: - 45 + 45 * x } );\n\t\t\tthis.container.setAttribute( \"position\", { x: 0.025 - 0.025 * x, y: 0.05 - 0.05 * x, z: 0 } );\n\n\t\t}\n\n\t},\n\tclick() {\n\n\t\t// Reset indeterminate state on click\n\t\tthis.data.indeterminate = false;\n\t\t// Hide / Show left and top lines for checked state, or right line aswell for intermediate state.\n\t\tthis.setSelected();\n\t\t// run animation\n\t\tthis.animateSelected();\n\n\t},\n\tanimateSelected() {\n\n\t\tlet _this = this;\n\t\t// Start changes\n\t\tUI.utils.isChanging( this.el.sceneEl, this.el.object3D.uuid );\n\t\tnew TWEEN.Tween( { x: 0 } )\n\t\t\t.to( { x: 1 }, 200 )\n\t\t\t.onUpdate( function () {\n\n\t\t\t\t_this.setTransform( this.x );\n\n\t\t\t} )\n\t\t\t.onComplete( function () {\n\n\t\t\t\t// Stop changes\n\t\t\t\tUI.utils.stoppedChanging( _this.el.object3D.uuid );\n\n\t\t\t} )\n\t\t\t.easing( TWEEN.Easing.Exponential.Out )\n\t\t\t.start();\n\n\t},\n\tsetSelected() {\n\n\t\t// Hide / Show lines that make up checkbox based on the current state.\n\t\tif ( this.data.value ) {\n\n\t\t\tthis.topLine.setAttribute( \"scale\", \"0.000001 0.000001 0.000001\" );\n\t\t\tthis.leftLine.setAttribute( \"scale\", \"0.000001 0.000001 0.000001\" );\n\t\t\tthis.bottomLine.setAttribute( \"scale\", \"1 1 1\" );\n\t\t\tthis.rightLine.setAttribute( \"scale\", \"1 1 1\" );\n\t\t\tthis.bottomLine.setAttribute( \"position\", \"0.025 -0.05 0\" );\n\t\t\tthis.rightLine.setAttribute( \"position\", \"0.05 0 0\" );\n\t\t\tthis.bottomLine.setAttribute( \"rotation\", \"0 0 90\" );\n\t\t\tthis.bottomLine.setAttribute( \"height\", 0.05 );\n\t\t\tthis.bottomLine.setAttribute( \"color\", this.data.selectedColor );\n\t\t\tthis.rightLine.setAttribute( \"color\", this.data.selectedColor );\n\n\t\t} else if ( this.data.indeterminate ) {\n\n\t\t\tthis.topLine.setAttribute( \"scale\", \"0.000001 0.000001 0.000001\" );\n\t\t\tthis.leftLine.setAttribute( \"scale\", \"0.000001 0.000001 0.000001\" );\n\t\t\tthis.bottomLine.setAttribute( \"scale\", \"1 1 1\" );\n\t\t\tthis.rightLine.setAttribute( \"scale\", \"0.000001 0.000001 0.000001\" );\n\t\t\tthis.bottomLine.setAttribute( \"position\", \"0 0 0\" );\n\t\t\tthis.bottomLine.setAttribute( \"rotation\", \"0 0 90\" );\n\t\t\tthis.bottomLine.setAttribute( \"height\", 0.1 );\n\t\t\tthis.bottomLine.setAttribute( \"color\", this.data.unselectedColor );\n\t\t\tthis.rightLine.setAttribute( \"color\", this.data.unselectedColor );\n\n\t\t} else {\n\n\t\t\tthis.topLine.setAttribute( \"scale\", \"1 1 1\" );\n\t\t\tthis.leftLine.setAttribute( \"scale\", \"1 1 1\" );\n\t\t\tthis.bottomLine.setAttribute( \"scale\", \"1 1 1\" );\n\t\t\tthis.rightLine.setAttribute( \"scale\", \"1 1 1\" );\n\t\t\tthis.bottomLine.setAttribute( \"height\", 0.1 );\n\t\t\tthis.leftLine.setAttribute( \"position\", \"-0.05 0 0\" );\n\t\t\tthis.rightLine.setAttribute( \"position\", \"0.05 0 0\" );\n\t\t\tthis.topLine.setAttribute( \"position\", \"0 0.05 0\" );\n\t\t\tthis.bottomLine.setAttribute( \"position\", \"0 -0.05 0\" );\n\t\t\tthis.topLine.setAttribute( \"rotation\", \"0 0 90\" );\n\t\t\tthis.bottomLine.setAttribute( \"rotation\", \"0 0 90\" );\n\t\t\tthis.bottomLine.setAttribute( \"color\", this.data.unselectedColor );\n\t\t\tthis.rightLine.setAttribute( \"color\", this.data.unselectedColor );\n\n\t\t}\n\n\t},\n\tsetupLines() {\n\n\t\t// Add four lines to make a square wireframe\n\t\tthis.leftLine = this.line( true );\n\t\tthis.rightLine = this.line( true );\n\t\tthis.topLine = this.line( true );\n\t\tthis.bottomLine = this.line( true );\n\t\tthis.container.appendChild( this.topLine );\n\t\tthis.container.appendChild( this.leftLine );\n\t\tthis.container.appendChild( this.bottomLine );\n\t\tthis.container.appendChild( this.rightLine );\n\n\t},\n\tsetDisabled() {\n\n\t\t// Check and set the disabled state of the checkbox - add / remove click handler.\n\t\tif ( this.data.disabled ) {\n\n\t\t\tthis.el.removeEventListener( \"mousedown\", this.clickHandler );\n\t\t\tthis.topLine.setAttribute( \"color\", this.data.disabledColor );\n\t\t\tthis.leftLine.setAttribute( \"color\", this.data.disabledColor );\n\t\t\tthis.rightLine.setAttribute( \"color\", this.data.disabledColor );\n\t\t\tthis.bottomLine.setAttribute( \"color\", this.data.disabledColor );\n\n\t\t} else {\n\n\t\t\tthis.el.addEventListener( \"mousedown\", this.clickHandler );\n\t\t\tthis.topLine.setAttribute( \"color\", this.data.unselectedColor );\n\t\t\tthis.leftLine.setAttribute( \"color\", this.data.unselectedColor );\n\t\t\tthis.rightLine.setAttribute( \"color\", this.data.value ? this.data.selectedColor : this.data.unselectedColor );\n\t\t\tthis.bottomLine.setAttribute( \"color\", this.data.value ? this.data.selectedColor : this.data.unselectedColor );\n\n\t\t}\n\n\t},\n\tline( is_vertical ) {\n\n\t\t// Create horizontal/vertical line.\n\t\tlet line = document.createElement( \"a-plane\" );\n\t\tline.setAttribute( \"width\", is_vertical ? 0.01 : 0.105 );\n\t\tline.setAttribute( \"height\", is_vertical ? 0.105 : 0.01 );\n\t\tline.setAttribute( \"class\", \"no-yoga-layout\" );\n\t\tline.setAttribute( \"shader\", \"flat\" );\n\t\treturn line;\n\n\t}\n} );\n","/* global AFRAME,TWEEN */\n/**\n * Radio Component for aframe-material-collection. Resets other radio buttons siblings and includes a disabled state.\n * @namespace aframe-material-collection\n * @component ui-radio\n * @author Shane Harris\n */\n\nmodule.exports = AFRAME.registerComponent( \"ui-radio\", {\n\tschema: {\n\t\tvalue: { default: \"\" },\n\t\tselected: { type: \"boolean\", default: false },\n\t\tselectedColor: { default: \"#606572\" },\n\t\tselectedRadius: { type: \"number\", default: 0.045 },\n\t\tunselectedColor: { default: \"#5f5f5f\" },\n\t\tdisabledColor: { default: \"#afafaf\" },\n\t\tdisabled: { type: \"boolean\", default: false },\n\t\tintersectableClass: { default: \"intersectable\" },\n\t\twidth: { type: \"number\", default: 0.15 },\n\t\theight: { type: \"number\", default: 0.15 }\n\t},\n\tinit() {\n\n\t\tthis.width = 0.15;\n\t\tthis.height = 0.15;\n\t\t// Create center circle for checked state.\n\t\tthis.filled_circle = document.createElement( \"a-circle\" );\n\t\tthis.filled_circle.setAttribute( \"radius\", this.data.selectedRadius );\n\t\tthis.filled_circle.setAttribute( \"scale\", \"0 0 0\" );\n\t\tthis.filled_circle.setAttribute( \"color\", this.data.disabled ? this.data.disabledColor : this.data.selectedColor );\n\t\tthis.filled_circle.setAttribute( \"shader\", \"flat\" );\n\t\tthis.filled_circle.setAttribute( \"class\", this.data.intersectableClass + \"no-yoga-layout\" );\n\t\tthis.filled_circle.setAttribute( \"segments\", 6 );\n\t\tthis.el.components.material.material.color = new THREE.Color( this.data.disabled ? this.data.disabledColor : this.data.unselectedColor );\n\t\tthis.el.appendChild( this.filled_circle );\n\t\t// Create backing for getting click events.\n\t\tthis.backing = document.createElement( \"a-circle\" );\n\t\tthis.backing.setAttribute( \"radius\", this.data.selectedRadius );\n\t\tthis.backing.setAttribute( \"position\", \"0 0 -0.001\" );\n\t\tthis.backing.setAttribute( \"class\", this.data.intersectableClass + \" no-yoga-layout\" );\n\t\tthis.backing.setAttribute( \"shader\", \"flat\" );\n\t\tthis.backing.setAttribute( \"segments\", 6 );\n\t\t// this.backing.setAttribute(\"opacity\", 0.0001);\n\t\t// this.backing.setAttribute(\"transparent\", true);\n\n\t\tthis.el.appendChild( this.backing );\n\n\t\t// Set this if it is checked.\n\t\tif ( this.data.selected ) {\n\n\t\t\tthis.click();\n\n\t\t}\n\n\t\tthis.clickHandler = e => {\n\n\t\t\tthis.click( e );\n\t\t\t// Prevent default behaviour of event\n\t\t\tif ( e.detail.preventDefault ) {\n\n\t\t\t\te.detail.preventDefault();\n\n\t\t\t}\n\n\t\t};\n\n\t},\n\tplay() {\n\n\t\t// Add / Remove click handlers based on disabled state.\n\t\tif ( this.data.disabled ) {\n\n\t\t\tthis.backing.removeEventListener( \"mousedown\", this.clickHandler );\n\t\t\tthis.filled_circle.removeEventListener( \"mousedown\", this.clickHandler );\n\n\t\t} else {\n\n\t\t\tthis.backing.addEventListener( \"mousedown\", this.clickHandler );\n\t\t\tthis.filled_circle.addEventListener( \"mousedown\", this.clickHandler );\n\n\t\t}\n\n\t},\n\tpause() {\n\n\t\tif ( ! this.data.disabled ) {\n\n\t\t\tthis.backing.removeEventListener( \"mousedown\", this.clickHandler );\n\t\t\tthis.filled_circle.removeEventListener( \"mousedown\", this.clickHandler );\n\n\t\t}\n\n\t},\n\tdeselect() {\n\n\t\t// Deselect this radio with a scale animation on the circle.\n\t\tthis.el.setAttribute( \"selected\", false );\n\t\tlet _this = this;\n\t\t// Start changes\n\t\tUI.utils.isChanging( this.el.sceneEl, this.filled_circle.object3D.uuid );\n\t\tnew TWEEN.Tween( { x: 1 } )\n\t\t\t.to( { x: 0.000001 }, 200 )\n\t\t\t.onUpdate( function () {\n\n\t\t\t\t_this.filled_circle.object3D.scale.set( this.x, this.x, this.x );\n\n\t\t\t} )\n\t\t\t.onComplete( () => {\n\n\t\t\t\t// Stop changes\n\t\t\t\tUI.utils.stoppedChanging( _this.filled_circle.object3D.uuid );\n\t\t\t\tthis.isRippling = false;\n\n\t\t\t} )\n\t\t\t.easing( TWEEN.Easing.Exponential.Out )\n\t\t\t.start();\n\n\t},\n\tclick() {\n\n\t\t// Get all other radio siblings and reset their state if they are selected.\n\t\t[].slice\n\t\t\t.call( this.el.parentNode.querySelectorAll( \"a-ring,a-ui-radio\" ) )\n\t\t\t.filter( el => el !== this.el )\n\t\t\t.forEach( ring => {\n\n\t\t\t\tif ( ring.components[ \"ui-radio\" ] && ring.getAttribute( \"selected\" ) === \"true\" ) {\n\n\t\t\t\t\tring.components[ \"ui-radio\" ].deselect();\n\n\t\t\t\t}\n\n\t\t\t} );\n\t\t// Emit the current selected value\n\t\tthis.el.emit( \"ui-radio-changed\", this.data.value );\n\t\t// Set this radio's selected state.\n\t\tthis.el.setAttribute( \"selected\", true );\n\t\t// Throttle animations.\n\t\tif ( this.isSelecting ) return;\n\t\tthis.isSelecting = true;\n\t\tlet _this = this;\n\t\t// Start changes\n\t\tUI.utils.isChanging( this.el.sceneEl, this.filled_circle.object3D.uuid );\n\t\tnew TWEEN.Tween( { x: 0.000001 } )\n\t\t\t.to( { x: 1 }, 250 )\n\t\t\t.onUpdate( function () {\n\n\t\t\t\t_this.filled_circle.object3D.scale.set( this.x, this.x, this.x );\n\n\t\t\t} )\n\t\t\t.onComplete( () => {\n\n\t\t\t\t// Stop changes\n\t\t\t\tUI.utils.stoppedChanging( this.filled_circle.object3D.uuid );\n\t\t\t\tthis.isSelecting = false;\n\n\t\t\t} )\n\t\t\t.easing( TWEEN.Easing.Exponential.Out )\n\t\t\t.start();\n\n\t},\n\tremove() {\n\t\tthis.el.removeObject3D(\"ui-radio\")\n\t\tthis.el.remove(this.backing)\n\t\tthis.el.remove(this.filled_circle )\n\t\n\t}\n} );\n","/* global AFRAME */\n/**\n * A curved-plane component to curve a plane primitive.\n * @namespace aframe-material-collection\n * @component ui-curved-plane\n * @author Shane Harris\n */\n\nmodule.exports = AFRAME.registerComponent( \"ui-curved-plane\", {\n\tschema: {\n\t\tdepth: { type: \"number\", default: 0.03 }\n\t},\n\tinit() {\n\n\t\tlet mesh = this.el.getObject3D( \"mesh\" );\n\t\tlet width = this.el.getAttribute( \"width\" );\n\t\tlet height = this.el.getAttribute( \"height\" );\n\t\tlet browser_pane = new THREE.PlaneGeometry( width, height, 5, 1 );\n\t\tlet curve = new THREE.CubicBezierCurve3(\n\t\t\tbrowser_pane.vertices[ 0 ],\n\t\t\tnew THREE.Vector3( 0.375 * width, 0, - this.data.depth * width ),\n\t\t\tnew THREE.Vector3( 0.625 * width, 0, - this.data.depth * width ),\n\t\t\tbrowser_pane.vertices[ browser_pane.vertices.length / 2 - 1 ]\n\t\t);\n\t\tlet planePoints = curve.getPoints( Math.abs( browser_pane.vertices.length / 2 ) - 1 );\n\t\tfor ( let edgeI = 1; edgeI < 3; edgeI ++ ) {\n\n\t\t\tfor ( let pointI = 0; pointI < planePoints.length; pointI ++ ) {\n\n\t\t\t\tbrowser_pane.vertices[ edgeI === 2 ? planePoints.length + pointI : pointI ].z = planePoints[ pointI ].z;\n\n\t\t\t}\n\n\t\t}\n\t\tmesh.geometry = browser_pane;\n\n\t}\n} );\n","/* global AFRAME */\n/**\n * A component to render the UI to a flat plane, removing the objects from the scene and rendering them separately to a\n * render target.\n * @namespace aframe-material-collection\n * @component ui-renderer\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerComponent( \"ui-renderer\", {\n\tschema: {\n\t\tuiPanel: { type: \"selector\" },\n\t\tlookControlsEl: { type: \"selector\" },\n\t\tlookControlsComponent: { default: \"look-controls\" },\n\t\tpanelPosition: { type: \"vec3\", default: { x: 0, y: 1.6, z: - 1 } },\n\t\tpanelSize: { type: \"vec2\", default: { x: 6, y: 3 } },\n\t\trenderResolution: { type: \"vec2\", default: { x: 2048, y: 1024 } },\n\t\tdebugRaycaster: { type: \"boolean\", default: false },\n\t\tfps: { type: \"number\", default: 60 },\n\t\tintersectableClass: { default: \"intersectable\" },\n\t\tdebug: { type: \"boolean\", default: false },\n\t\tinitDelay: { type: \"int\", default: 0 }\n\t},\n\tinit() {\n\n\t\tthis.setupBackDrop();\n\t\tif ( ! this.data.uiPanel ) {\n\n\t\t\tthis.meshEl = this.setupUIPanel();\n\n\t\t} else {\n\n\t\t\tthis.meshEl = this.data.uiPanel;\n\n\t\t}\n\t\t// Remove this object from the scene to be rendered separately.\n\t\tthis.el.object3D.parent.remove( this.el.object3D );\n\t\t// Setup fixed camera nd render target.\n\t\tthis.camera = new THREE.PerspectiveCamera( 100, 2, 0.1, 1000 );\n\t\t// Setup render target\n\t\tthis.renderTarget = new THREE.WebGLRenderTarget( this.data.renderResolution.x, this.data.renderResolution.y, { antialias: true } );\n\t\t// Set the texture to the ui panel mesh.\n\t\tthis.meshEl.getObject3D( \"mesh\" ).material.map = this.renderTarget.texture;\n\t\t// emit ready event for anythng wanting to use this texture.\n\t\tthis.meshEl.emit( \"texture-ready\", this.renderTarget.texture );\n\t\t// Listen for change events to enable rendering.\n\t\tthis.stoppedRendering = false;\n\t\tthis.isRendering = true;\n\t\t// Listen for change events to enable/disable rendering\n\t\tthis.el.sceneEl.addEventListener( \"ui-changing\", () => {\n\n\t\t\t//console.log(JSON.stringify(new Date()),'ui-changing');\n\t\t\tthis.stoppedRendering = false;\n\t\t\tthis.isRendering = true;\n\n\t\t} );\n\t\tthis.el.sceneEl.addEventListener( \"ui-changing-stopped\", () => {\n\n\t\t\t//console.log(JSON.stringify(new Date()),'ui-changing-stopped');\n\t\t\tthis.isRendering = false;\n\n\t\t} );\n\t\t// Setup raycaster for relaying mouse/keyboard events\n\t\tthis.raycaster = new THREE.Raycaster();\n\t\tthis.helper = new THREE.Mesh( new THREE.SphereGeometry( 0.01 ), new THREE.MeshBasicMaterial( { color: \"#ff0000\" } ) );\n\t\t// Add cursor helper to object\n\t\tif ( this.data.debugRaycaster ) this.el.object3D.add( this.helper );\n\t\t// Set last render time\n\t\tthis.lastRenderTime = 0;\n\t\tthis.isFrozen = false;\n\n\t\t// Expose methods to the element to pause/play the renderer.\n\t\tthis.el.pauseRender = this.pauseRender.bind( this );\n\t\tthis.el.playRender = this.playRender.bind( this );\n\t\tthis.isReady = false;\n\t\tsetTimeout( () => {\n\n\t\t\tthis.isReady = true;\n\n\t\t}, this.data.initDelay );\n\n\t},\n\tpauseRender( time ) {\n\n\t\treturn this.playRender( time, true );\n\n\t},\n\tplayRender( time, isPaused ) {\n\n\t\tlet _this = this;\n\t\treturn new Promise( resolve => {\n\n\t\t\tif ( _this.isFrozen === isPaused || _this.isAnimatingBackground ) return resolve();\n\t\t\t_this.isAnimatingBackground = true;\n\t\t\tif ( ! _this.isFrozen ) this.backdrop.setAttribute( \"scale\", \"1 1 1\" );\n\t\t\tlet fromScale = _this.isFrozen ? 0.9 : 0.000001;\n\t\t\tlet toScale = _this.isFrozen ? 0.000001 : 0.9;\n\t\t\tlet duration = _this.isFrozen ? time || 350 : time || 500;\n\t\t\tif ( _this.isFrozen ) {\n\n\t\t\t\t_this.isFrozen = isPaused;\n\t\t\t\t_this.play();\n\n\t\t\t}\n\t\t\tUI.utils.isChanging( _this.el.sceneEl, _this.backdrop.uuid );\n\t\t\tnew TWEEN.Tween( { x: fromScale } )\n\t\t\t\t.to( { x: toScale }, duration )\n\t\t\t\t.onUpdate( function () {\n\n\t\t\t\t\t_this.backdrop.setAttribute( \"opacity\", this.x );\n\n\t\t\t\t} )\n\t\t\t\t.onComplete( () => {\n\n\t\t\t\t\t_this.isFrozen = isPaused;\n\t\t\t\t\t_this.isAnimatingBackground = false;\n\t\t\t\t\tif ( _this.isFrozen ) {\n\n\t\t\t\t\t\t_this.pause();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.backdrop.setAttribute( \"scale\", \"0.000001 0.000001 0.000001\" );\n\n\t\t\t\t\t}\n\t\t\t\t\t// Stop changes\n\t\t\t\t\tUI.utils.stoppedChanging( this.backdrop.uuid );\n\t\t\t\t\tresolve();\n\n\t\t\t\t} )\n\t\t\t\t.easing( TWEEN.Easing.Exponential.Out )\n\t\t\t\t.start();\n\n\t\t} );\n\n\t},\n\tsetupBackDrop() {\n\n\t\tthis.backdrop = document.createElement( \"a-plane\" );\n\t\tthis.backdrop.setAttribute( \"transparent\", true );\n\t\tthis.backdrop.setAttribute( \"opacity\", 0.000001 );\n\t\tthis.backdrop.setAttribute( \"color\", \"#000\" );\n\t\tthis.backdrop.setAttribute( \"shader\", \"flat\" );\n\t\tthis.backdrop.setAttribute( \"position\", { x: 0, y: 0, z: - 0.2 } );\n\t\tthis.backdrop.setAttribute( \"width\", 1 );\n\t\tthis.backdrop.setAttribute( \"height\", 1 );\n\t\tthis.backdrop.setAttribute( \"scale\", \"0.000001 0.000001 0.000001\" );\n\t\tthis.el.appendChild( this.backdrop );\n\n\t},\n\tplay() {\n\n\t\tthis.lastMouseMoveTime = 0;\n\t\t// Register event listeners\n\t\t// Mousedown and mouseup do not have the correct intersection point. Use last mouse move event if available instead.\n\t\t// TODO: raise issue with aframe / submit PR;\n\t\tthis.click = e => this.mouseEvent( \"click\", this.lastMoveEvent || e );\n\t\tthis.mousedown = e => this.mouseEvent( \"mousedown\", this.lastMoveEvent || e );\n\t\tthis.mouseup = e => this.mouseEvent( \"mouseup\", this.lastMoveEvent || e );\n\t\tthis.mousewheel = e => this.mouseEvent( \"ui-mousewheel\", e.detail.evt );\n\t\tthis.mousemove = e => {\n\n\t\t\t// Save mousemove event for mousedown/mouseup events.\n\t\t\tthis.lastMoveEvent = e;\n\t\t\tthis.mouseEvent( \"ui-mousemove\", e );\n\n\t\t};\n\t\tthis.meshEl.addEventListener( \"mousedown\", this.mousedown );\n\t\tthis.meshEl.addEventListener( \"mouseup\", this.mouseup );\n\t\tthis.meshEl.addEventListener( \"click\", this.click );\n\t\tthis.meshEl.addEventListener( \"ui-mousemove\", this.mousemove );\n\t\tthis.meshEl.addEventListener( \"ui-mousewheel\", this.mousewheel );\n\n\t},\n\tpause() {\n\n\t\tthis.meshEl.removeEventListener( \"mousedown\", this.mousedown );\n\t\tthis.meshEl.removeEventListener( \"mouseup\", this.mouseup );\n\t\tthis.meshEl.removeEventListener( \"click\", this.click );\n\t\tthis.meshEl.removeEventListener( \"ui-mousemove\", this.mousemove );\n\t\tthis.meshEl.removeEventListener( \"ui-mousewheel\", this.mousewheel );\n\n\t},\n\tsetupUIPanel() {\n\n\t\tlet uiPanel = document.createElement( \"a-plane\" );\n\t\tuiPanel.setAttribute( \"position\", this.data.panelPosition );\n\t\tuiPanel.setAttribute( \"width\", this.data.panelSize.x );\n\t\tuiPanel.setAttribute( \"height\", this.data.panelSize.y );\n\t\tthis.el.sceneEl.appendChild( uiPanel );\n\t\treturn uiPanel;\n\n\t},\n\tmouseEvent( type, e ) {\n\n\t\tlet mouse = { x: 0, y: 0 };\n\t\tif ( e.detail.intersection ) {\n\n\t\t\tlet localPoint = this.meshEl.object3D.worldToLocal( e.detail.intersection.point.clone() );\n\n\t\t\tmouse = {\n\t\t\t\tx: ( localPoint.x / this.meshEl.getAttribute( \"width\" ) ) * 2,\n\t\t\t\ty: ( localPoint.y / this.meshEl.getAttribute( \"height\" ) ) * 2\n\t\t\t};\n\n\t\t}\n\t\tif ( type === \"ui-mousewheel\" && e.detail.evt ) {\n\n\t\t\tmouse.deltaY = e.detail.deltaY;\n\t\t\tmouse.deltaX = e.detail.deltaX;\n\n\t\t}\n\t\tif ( type === \"mousedown\" && this.lookControlsEl && this.lookControlsEl.components[ \"look-controls\" ] ) {\n\n\t\t\tthis.lookControlsEl.components[ this.data.lookControlsComponent ].pause();\n\n\t\t}\n\t\tif ( type === \"mouseup\" && this.lookControlsEl && this.lookControlsEl.components[ \"look-controls\" ] ) {\n\n\t\t\tthis.lookControlsEl.components[ this.data.lookControlsComponent ].play();\n\n\t\t}\n\t\tthis.raycastIntersections( e, mouse, type );\n\n\t},\n\traycastIntersections( e, mouse, type ) {\n\n\t\tif ( ! this.camera ) return;\n\t\t//console.log(mouse);\n\t\tthis.raycaster.setFromCamera( mouse, this.camera );\n\t\t// this.helper.setDirection(this.raycaster.ray.direction);\n\t\tlet intersections = this.raycaster.intersectObjects( this.el.object3D.children, true );\n\t\tthis.prevIntersectionEls = this.prevIntersectionEls || [];\n\t\tlet intersectionEls = [];\n\t\tif ( intersections.length && this.data.debugRaycaster ) {\n\n\t\t\tlet intersectionPoint = intersections[ 0 ].point;\n\t\t\tif ( intersections[ 0 ].object === this.helper && intersections.length > 1 ) {\n\n\t\t\t\tintersectionPoint = intersections[ 1 ].point;\n\n\t\t\t}\n\t\t\tthis.helper.position.copy( intersectionPoint );\n\t\t\tthis.helper.position.x -= 0.03;\n\n\t\t}\n\t\tlet defaultPrevented = false;\n\t\tfor ( let i = 0; i < intersections.length; i ++ ) {\n\n\t\t\tlet intersection = intersections[ i ];\n\t\t\t// Only emit events on objecst with an element attached\n\t\t\tif ( intersection.object.el && intersection.object.el.classList.contains( this.data.intersectableClass ) ) {\n\n\t\t\t\tlet currentEvent = {\n\t\t\t\t\tintersection: intersection,\n\t\t\t\t\tevt: e,\n\t\t\t\t\tpreventDefault: () => {\n\n\t\t\t\t\t\tdefaultPrevented = true;\n\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t// If this is the first time weve seen this element then emit the mouseenter event.\n\t\t\t\tif ( this.prevIntersectionEls.indexOf( intersection.object.el ) === - 1 && ! defaultPrevented ) {\n\n\t\t\t\t\tintersection.object.el.emit( \"mouseenter\", currentEvent );\n\n\t\t\t\t}\n\t\t\t\t// Emit the mouse event received\n\t\t\t\tif ( ! defaultPrevented || type === \"ui-mousewheel\" ) {\n\n\t\t\t\t\tintersection.object.el.emit( type, currentEvent );\n\n\t\t\t\t}\n\t\t\t\t// Store the intersection on the element.\n\t\t\t\tintersection.object.el.intersection = intersection;\n\t\t\t\t// Add the current el to the list to check against previous intersection els.\n\t\t\t\tintersectionEls.push( intersection.object.el );\n\n\t\t\t}\n\n\t\t}\n\t\t// Find any intersections that have disappeared to emit the mouse leave event.\n\t\tfor ( let i = 0; i < this.prevIntersectionEls.length; i ++ ) {\n\n\t\t\tlet intersectionEl = this.prevIntersectionEls[ i ];\n\t\t\tif ( intersectionEls.indexOf( intersectionEl ) === - 1 ) {\n\n\t\t\t\tintersectionEl.emit( \"mouseleave\", { intersection: intersectionEl.intersection } );\n\n\t\t\t}\n\n\t\t}\n\t\t// Store the current intersected elements for the next iteration.\n\t\tthis.prevIntersectionEls = intersectionEls;\n\n\t},\n\ttick( delta ) {\n\n\t\tif ( this.isFrozen || this.stoppedRendering || ! this.isReady ) return;\n\t\tif ( delta - this.lastRenderTime < 1000 / this.data.fps && this.isRendering ) return;\n\t\tthis.el.object3D.traverse( child => {\n\n\t\t\tchild.updateMatrixWorld();\n\n\t\t} );\n\n\t\tlet renderer = this.el.sceneEl.renderer;\n\t\tlet vrModeEnabled = renderer.vr.enabled;\n\t\trenderer.vr.enabled = false;\n\t\trenderer.render( this.el.object3D, this.camera, this.renderTarget );\n\t\trenderer.vr.enabled = vrModeEnabled;\n\t\tthis.lastRenderTime = delta;\n\t\tif ( ! this.isRendering ) {\n\n\t\t\tthis.stoppedRendering = true;\n\n\t\t}\n\n\t}\n} );\n","/* global AFRAME */\n/**\n * Text Input Primitive for aframe-material-collection.\n * @namespace aframe-material-collection\n * @primitive a-ui-text-input\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerPrimitive(\n\t\"a-ui-text-input\",\n\tAFRAME.utils.extendDeep( {}, AFRAME.primitives.getMeshMixin(), {\n\t\tdefaultComponents: {\n\t\t\t\"ui-text\": {\n\t\t\t\tplaceHolder: \"Text...\"\n\t\t\t},\n\t\t\t\"ui-double-click\": {}\n\t\t},\n\t\tmappings: {\n\t\t\twidth: \"ui-text.width\",\n\t\t\theight: \"ui-text.height\",\n\t\t\tvalue: \"ui-text.value\",\n\t\t\t\"place-holder\": \"ui-text.placeHolder\"\n\t\t}\n\t} )\n);\n","/* global AFRAME */\n/**\n * Number Input Primitive for aframe-material-collection.\n * @namespace aframe-material-collection\n * @primitive a-ui-number-input\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerPrimitive(\n\t\"a-ui-number-input\",\n\tAFRAME.utils.extendDeep( {}, AFRAME.primitives.getMeshMixin(), {\n\t\tdefaultComponents: {\n\t\t\t\"ui-text\": {\n\t\t\t\ttype: \"number\",\n\t\t\t\tplaceHolder: \"Number...\"\n\t\t\t},\n\t\t\t\"ui-double-click\": {}\n\t\t},\n\t\tmappings: {\n\t\t\twidth: \"ui-text.width\",\n\t\t\theight: \"ui-text.height\",\n\t\t\tvalue: \"ui-text.value\",\n\t\t\t\"place-holder\": \"ui-text.placeHolder\"\n\t\t}\n\t} )\n);\n","/* global AFRAME */\n/**\n * Integer Input Primitive for aframe-material-collection.\n * @namespace aframe-material-collection\n * @primitive a-ui-int-input\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerPrimitive(\n\t\"a-ui-int-input\",\n\tAFRAME.utils.extendDeep( {}, AFRAME.primitives.getMeshMixin(), {\n\t\tdefaultComponents: {\n\t\t\t\"ui-text\": {\n\t\t\t\ttype: \"int\",\n\t\t\t\tplaceHolder: \"Whole Number...\"\n\t\t\t},\n\t\t\t\"ui-double-click\": {}\n\t\t},\n\t\tmappings: {\n\t\t\twidth: \"ui-text.width\",\n\t\t\theight: \"ui-text.height\",\n\t\t\tvalue: \"ui-text.value\",\n\t\t\t\"place-holder\": \"ui-text.placeHolder\"\n\t\t}\n\t} )\n);\n","/* global AFRAME */\n/**\n *  Password Primitive for aframe-material-collection.\n * @namespace aframe-material-collection\n * @primitive a-ui-password-input\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerPrimitive(\n\t\"a-ui-password-input\",\n\tAFRAME.utils.extendDeep( {}, AFRAME.primitives.getMeshMixin(), {\n\t\tdefaultComponents: {\n\t\t\t\"ui-text\": {\n\t\t\t\ttype: \"password\",\n\t\t\t\tplaceHolder: \"\"\n\t\t\t},\n\t\t\t\"ui-double-click\": {}\n\t\t},\n\t\tmappings: {\n\t\t\twidth: \"ui-text.width\",\n\t\t\theight: \"ui-text.height\",\n\t\t\tvalue: \"ui-text.value\",\n\t\t\t\"place-holder\": \"ui-text.placeHolder\"\n\t\t}\n\t} )\n);\n","/* global AFRAME,THREE */\n/**\n * Text input component Component for aframe-material-collection. Includes support for number/int only input.\n * @namespace aframe-material-collection\n * @component ui-text\n * @author Shane Harris\n */\n\nmodule.exports = AFRAME.registerComponent( \"ui-text\", {\n\tschema: {\n\t\twidth: { type: \"number\", default: 0.5 },\n\t\theight: { type: \"number\", default: 0.1 },\n\t\tvalue: { default: \"\" },\n\t\ttype: { default: \"text\" },\n\t\tlineFocusColor: { default: \"#009688\" },\n\t\tlineBlurColor: { default: \"#cfcfcf\" },\n\t\tdisabledColor: { default: \"#afafaf\" },\n\t\tdisabled: { type: \"boolean\", default: false },\n\t\tfontFamily: { default: \"Roboto\" },\n\t\tfontColor: { default: \"#4f4f4f\" },\n\t\tplaceHolder: { default: \"Text...\" },\n\t\tintersectableClass: { default: \"intersectable\" }\n\t},\n\tinit() {\n\n\t\t// if (typeof CanvasInput === 'undefined') {\n\t\t//     throw 'aframe-material-collection requires CanvasInput to be loaded first - <script src=\"https://cdn.rawgit.com/shaneharris/CanvasInput/master/CanvasInput.js\"></script>';\n\t\t// }\n\t\tconsole.warn( \"ui-text is deprecated. please use ui-input-text instead. Thanks!\" );\n\n\t}\n} );\n","/* global AFRAME,THREE */\n/**\n * A component to load an icon and set some defaults for positioning and transparency.\n * @namespace aframe-material-collection\n * @component ui-icon\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerComponent( \"ui-icon\", {\n\tschema: {\n\t\tsrc: { default: \"icons/send_white_64dp.png\" },\n\t\tsize: { type: \"vec2\", default: { x: 0.1, y: 0.1 } },\n\t\tzIndex: { type: \"number\", default: 0.003 },\n\t\tcolor: { default: \"#fff\" }\n\t},\n\tinit() {\n\n\t/*\tthis.icon = new THREE.Mesh(\n\t\t\tnew THREE.PlaneGeometry( this.data.size.x, this.data.size.y ),\n\t\t\tnew THREE.MeshBasicMaterial( { color: this.data.color, alphaTest: 0.4, transparent: true, map: new THREE.TextureLoader().load( this.data.src ) } )\n\t\t);\n\t\tthis.icon.position.set( 0, 0, this.data.zIndex );\n\t\tthis.el.object3D.add( this.icon );\n*/\n\t}\n\n\t,\n\tupdate() {\n\t\n\t\tthis.icon = new THREE.Mesh(\n\t\t\tnew THREE.PlaneGeometry( this.data.size.x, this.data.size.y ),\n\t\t\tnew THREE.MeshBasicMaterial( { color: this.data.color, alphaTest: 0.4, transparent: true, map: new THREE.TextureLoader().load( this.data.src ) } )\n\t\t);\n\t\tthis.icon.position.set( 0, 0, this.data.zIndex );\n\t\tthis.el.object3D.add( this.icon );\n\n\t}\n} );\n","/* global AFRAME,THREE */\n/**\n * Rounded corners Component for aframe-material-collection. Expects an a-plane entity.\n * @namespace aframe-material-collection\n * @component ui-rounded\n * @author Shane Harris\n */\n\nmodule.exports = AFRAME.registerComponent( \"ui-rounded\", {\n\tschema: {\n\t\tborderRadius: { type: \"number\", default: 0.01 },\n\t\tcurveSegments: { type: \"int\", default: 1 }\n\t},\n\tinit() {\n\n\t/*\tlet mesh = this.el.getObject3D( \"mesh\" );\n\t\tlet roundedRectShape = new THREE.Shape();\n\t\t// Draw the Rounded rectangle shape centered in the object - from three.js shapes example.\n\t\t( function roundedRect( ctx, x, y, width, height, radius ) {\n\n\t\t\tctx.moveTo( x, y + radius );\n\t\t\tctx.lineTo( x, y + height - radius );\n\t\t\tctx.quadraticCurveTo( x, y + height, x + radius, y + height );\n\t\t\tctx.lineTo( x + width - radius, y + height );\n\t\t\tctx.quadraticCurveTo( x + width, y + height, x + width, y + height - radius );\n\t\t\tctx.lineTo( x + width, y + radius );\n\t\t\tctx.quadraticCurveTo( x + width, y, x + width - radius, y );\n\t\t\tctx.lineTo( x + radius, y );\n\t\t\tctx.quadraticCurveTo( x, y, x, y + radius );\n\n\t\t} )(\n\t\t\troundedRectShape,\n\t\t\t- mesh.geometry.metadata.parameters.width / 2,\n\t\t\t- mesh.geometry.metadata.parameters.height / 2,\n\t\t\tmesh.geometry.metadata.parameters.width,\n\t\t\tmesh.geometry.metadata.parameters.height,\n\t\t\tthis.data.borderRadius\n\t\t);\n\t\t// Update the geometry.\n\t\tmesh.geometry = new THREE.ShapeBufferGeometry( roundedRectShape, this.data.curveSegments );\n*/\n\t\t// Emit rounded-loaded event once the geometry has been updated.\n\t\tthis.el.emit( \"rounded-loaded\", null, false );\n\n\t}\n\t,\n\tremove() {\n\t\tthis.el.removeObject3D('ui-rounded');\n\t}\n} );\n","/* global AFRAME,TWEEN,THREE */\n/**\n * Ripple Component for aframe-material-collection. Add a ripple to an entity with options for controlling\n * clamping the animation and offsetting the ripple z position to place on top or bottom\n * @namespace aframe-material-collection\n * @component ui-ripple\n * @author Shane Harris\n */\n\nmodule.exports = AFRAME.registerComponent( \"ui-ripple\", {\n\tschema: {\n\t\tcolor: { default: \"#fff\" },\n\t\tduration: { type: \"int\", default: 1000 },\n\t\tfadeDuration: { type: \"int\", default: 750 },\n\t\tfadeDelay: { type: \"int\", default: 250 },\n\t\tclampToSquare: { type: \"boolean\", default: false },\n\t\tsize: { type: \"vec2\", default: { x: 1, y: 1 } },\n\t\tzIndex: { type: \"number\", default: 0.01 },\n\t\tsegments: { type: \"int\", default: 6 }\n\t},\n\tinit() {\n\n\t\t// Setup circle geometry for ripple effect\n\t\tthis.rippleGeometry = new THREE.CircleGeometry( Math.max( this.data.size.x, this.data.size.y ), this.data.segments );\n\t\tthis.ripple = new THREE.Mesh(\n\t\t\tthis.rippleGeometry.clone(),\n\t\t\tnew THREE.MeshBasicMaterial( { color: this.data.color, transparent: false, opacity: 0.4, alphaTest: 0.1 } )\n\t\t);\n\t\tthis.ripple.scale.set( 0.00001, 0.00001, 0.00001 );\n\t\tthis.el.object3D.add( this.ripple );\n\t\tthis.el.addEventListener( \"mousedown\", this.click.bind( this ) );\n\t\tthis.ripple.position.set( 0, 0, this.data.zIndex );\n\t\t// Set clipping planes if clamping to square\n\t\tif ( this.data.clampToSquare ) {\n\n\t\t\tthis.content_clips = [\n\t\t\t\tnew THREE.Plane( new THREE.Vector3( 0, 1, 0 ), this.data.size.y / 2 ),\n\t\t\t\tnew THREE.Plane( new THREE.Vector3( 0, - 1, 0 ), this.data.size.y / 2 ),\n\t\t\t\tnew THREE.Plane( new THREE.Vector3( - 1, 0, 0 ), this.data.size.x / 2 ),\n\t\t\t\tnew THREE.Plane( new THREE.Vector3( 1, 0, 0 ), this.data.size.x / 2 )\n\t\t\t];\n\n\t\t}\n\n\t},\n\tclick( e ) {\n\n\t\tif ( this.isRippling ) {\n\n\t\t\t// Throttle clicks.\n\t\t\treturn e.preventDefault();\n\n\t\t}\n\t\tthis.isRippling = true;\n\t\t// Set clipping planes if clamping to square\n\t\tif ( this.data.clampToSquare ) {\n\n\t\t\tthis.setRippleClips( this.ripple.material );\n\n\t\t}\n\t\t// Animate the size of the circle ripple from the center of the entity.\n\t\tthis.tweenSize( this.ripple.geometry );\n\t\t// Fade the circle out as it ripples.\n\t\tthis.tweenOpacity( this.ripple.material );\n\n\t},\n\tsetRippleClips() {\n\n\t\t// update content clips world positions from this current element.\n\t\tthis.content_clips[ 0 ].set( new THREE.Vector3( 0, 1, 0 ), this.data.size.y / 2 );\n\t\tthis.content_clips[ 1 ].set( new THREE.Vector3( 0, - 1, 0 ), this.data.size.y / 2 );\n\t\tthis.content_clips[ 2 ].set( new THREE.Vector3( - 1, 0, 0 ), this.data.size.x / 2 );\n\t\tthis.content_clips[ 3 ].set( new THREE.Vector3( 1, 0, 0 ), this.data.size.x / 2 );\n\t\t//this.el.sceneEl.object3D.updateMatrixWorld();\n\t\tthis.content_clips[ 0 ].applyMatrix4( this.el.object3D.matrixWorld );\n\t\tthis.content_clips[ 1 ].applyMatrix4( this.el.object3D.matrixWorld );\n\t\tthis.content_clips[ 2 ].applyMatrix4( this.el.object3D.matrixWorld );\n\t\tthis.content_clips[ 3 ].applyMatrix4( this.el.object3D.matrixWorld );\n\t\tthis.ripple.material.clippingPlanes = this.el._content_clips ? this.el._content_clips.concat( this.content_clips ) : this.content_clips;\n\t\tthis.ripple.material.clipShadows = true;\n\t\tthis.ripple.material.needsUpdate = true;\n\n\t},\n\ttweenSize( geometry ) {\n\n\t\tlet _this = this;\n\t\t// Start changes\n\t\tUI.utils.isChanging( this.el.sceneEl, _this.ripple.uuid );\n\t\tnew TWEEN.Tween( { x: 0.00001 } )\n\t\t\t.to( { x: 1 }, this.data.duration )\n\t\t\t.onUpdate( function () {\n\n\t\t\t\t_this.ripple.scale.set( this.x, this.x, this.x );\n\n\t\t\t} )\n\t\t\t.onComplete( () => {\n\n\t\t\t\t_this.ripple.scale.set( 0.00001, 0.00001, 0.00001 );\n\t\t\t\t// Reset throttle flag.\n\t\t\t\tthis.isRippling = false;\n\t\t\t\t// Stop changes\n\t\t\t\tUI.utils.stoppedChanging( _this.ripple.uuid );\n\n\t\t\t} )\n\t\t\t.easing( TWEEN.Easing.Exponential.Out )\n\t\t\t.start();\n\n\t},\n\ttweenOpacity( material ) {\n\n\t\tnew TWEEN.Tween( { x: 0.4 } )\n\t\t\t.to( { x: 0 }, this.data.fadeDuration )\n\t\t\t.delay( this.data.fadeDelay )\n\t\t\t.onUpdate( function () {\n\n\t\t\t\tmaterial.opacity = this.x;\n\n\t\t\t} )\n\t\t\t.onComplete( () => {\n\n\t\t\t\tmaterial.opacity = 0.4;\n\n\t\t\t} )\n\t\t\t.easing( TWEEN.Easing.Exponential.Out )\n\t\t\t.start();\n\n\t}\n} );\n","/* global AFRAME */\n/**\n * A component shim the mouse move event for the AFRAME cursor raycaster.\n * @namespace aframe-material-collection\n * @component ui-mouse-shim\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerComponent( \"ui-mouse-shim\", {\n\tschema: {\n\t\tfps: { type: \"number\", default: 45 }\n\t},\n\tinit() {\n\n\t\tif ( ! this.el.components.raycaster ) {\n\n\t\t\tthrow \"ui-mouse-move component needs the raycaster component to be added.\";\n\n\t\t}\n\t\t// Add support for mouse wheel\n\t\tthis.el.sceneEl.renderer.domElement.addEventListener( \"wheel\", this.onMouseWheel.bind( this ), false );\n\n\t},\n\tonMouseWheel( e ) {\n\n\t\tthis.emitMouseEvent( \"ui-mousewheel\", e );\n\n\t},\n\ttick() {\n\n\t\tif ( new Date().getTime() - this.lastMouseMoveTime < 1000 / this.data.fps ) return;\n\t\tthis.emitMouseEvent( \"ui-mousemove\" );\n\t\tthis.lastMouseMoveTime = new Date().getTime();\n\n\t},\n\temitMouseEvent( eventType, event ) {\n\n\t\t// Get current intersections from raycaster component.\n\t\tthis.el.components.raycaster.intersections.forEach( intersection => {\n\n\t\t\tif ( intersection.object.el ) {\n\n\t\t\t\t// Emit custom mouse move event ont he intersected element.\n\t\t\t\tintersection.object.el.emit( eventType, { cursorEl: this.el, intersection: intersection, evt: event } );\n\n\t\t\t}\n\n\t\t} );\n\n\t}\n} );\n","/* global AFRAME */\n/**\n * Checkbox A simple component to listen for two click events in quick succession.\n * @namespace aframe-material-collection\n * @component ui-double-click\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerComponent( \"ui-double-click\", {\n\tschema: {\n\t\ttimeout: { type: \"int\", default: 200 }\n\t},\n\tinit() {\n\n\t\tlet last_click = 0;\n\t\t// Add click event for listening for two clicks within the specified timespan.\n\t\tthis.el.addEventListener( \"mousedown\", e => {\n\n\t\t\tlet now = new Date().getTime();\n\t\t\tif ( now - last_click < this.data.timeout ) {\n\n\t\t\t\tthis.el.emit( \"dblclick\", e );\n\t\t\t\t// Reset last click\n\t\t\t\tlast_click = 0;\n\t\t\t\te.preventDefault();\n\n\t\t\t}\n\t\t\tlast_click = now;\n\n\t\t} );\n\n\t}\n} );\n","/* global AFRAME,THREE */\n/**\n * Rounded borders Component for aframe-material-collection. Expects an a-plane entity.\n * @namespace aframe-material-collection\n * @component ui-border\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerComponent( \"ui-border\", {\n\tschema: {\n\t\tborderRadius: { type: \"number\", default: 0.01 },\n\t\tcurveSegments: { type: \"int\", default: 5 },\n\t\tborderWidth: { type: \"number\", default: 0.008 },\n\t\tcolor: { default: \"#5f5f5f\" },\n\t\tnumberOfPoints: { type: \"int\", default: 180 }\n\t},\n\tinit() {\n\n\t\tlet mesh = this.el.getObject3D( \"mesh\" );\n\t\tlet roundedRectShape = new THREE.Shape();\n\t\tthis.roundedRect( roundedRectShape, mesh.geometry.metadata.parameters.width, mesh.geometry.metadata.parameters.height, this.data.borderRadius );\n\t\tthis.roundedRect(\n\t\t\troundedRectShape,\n\t\t\tmesh.geometry.metadata.parameters.width - this.data.borderWidth * 2,\n\t\t\tmesh.geometry.metadata.parameters.height - this.data.borderWidth * 2,\n\t\t\tthis.data.borderRadius,\n\t\t\ttrue\n\t\t);\n\n\t\tthis.el.setObject3D(\n\t\t\t\"mesh\",\n\t\t\tnew THREE.Mesh( new THREE.ShapeGeometry( roundedRectShape, this.data.curveSegments ), new THREE.MeshBasicMaterial( { color: this.data.color } ) )\n\t\t);\n\n\t},\n\troundedRect( ctx, width, height, radius, isHole ) {\n\n\t\tlet x = - width / 2,\n\t\t\ty = - height / 2;\n\t\t// Draw the Rounded rectangle shape centered in the object - from three.js shapes example.\n\t\tlet shapeCtx;\n\t\tif ( isHole ) {\n\n\t\t\tshapeCtx = ctx;\n\t\t\tctx = new THREE.Path();\n\n\t\t}\n\t\tctx.moveTo( x, y + radius );\n\t\tctx.lineTo( x, y + height - radius );\n\t\tctx.quadraticCurveTo( x, y + height, x + radius, y + height );\n\t\tctx.lineTo( x + width - radius, y + height );\n\t\tctx.quadraticCurveTo( x + width, y + height, x + width, y + height - radius );\n\t\tctx.lineTo( x + width, y + radius );\n\t\tctx.quadraticCurveTo( x + width, y, x + width - radius, y );\n\t\tctx.lineTo( x + radius, y );\n\t\tctx.quadraticCurveTo( x, y, x, y + radius );\n\t\tif ( isHole ) {\n\n\t\t\tshapeCtx.holes.push( ctx );\n\n\t\t}\n\n\t}\n} );\n","/* global AFRAME */\n/**\n * A component to pick a color - based on https://github.com/mokargas/aframe-colorwheel-component\n * @namespace aframe-material-collection\n * @component ui-renderer\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerComponent( \"ui-color-picker\", {\n\tschema: {\n\t\tbackingColor: { default: \"#dfdfdf\" },\n\t\tbackingColorBottom: { default: \"#4db6ac\" },\n\t\ttargetEl: { type: \"selector\" }\n\t},\n\tinit() {\n\n\t\tthis.setupColorWheel();\n\t\tthis.setupBrightnessSlider();\n\t\tthis.setupColorPreview();\n\t\tthis.setupBacking();\n\t\tthis.setupEvents();\n\t\tthis.el.setAttribute( \"visible\", false );\n\t\tthis.el.setAttribute( \"scale\", \"0.00001 0.00001 0.00001\" );\n\t\t// Expose methods to open/close the color picker.\n\t\tthis.el.open = this.open.bind( this );\n\t\tthis.el.close = this.close.bind( this );\n\n\t},\n\topen() {\n\n\t\treturn new Promise( resolve => {\n\n\t\t\tthis.selectCallback = resolve;\n\t\t\tthis.el.setAttribute( \"visible\", true );\n\t\t\tthis.tweenPickerScale( 0.00001, 0.5 );\n\n\t\t} );\n\n\t},\n\tclose() {\n\n\t\tthis.tweenPickerScale( 0.5, 0.00001 ).then( () => this.el.setAttribute( \"visible\", false ) );\n\n\t},\n\ttweenPickerScale( from, to ) {\n\n\t\tUI.utils.isChanging( this.el.sceneEl, this.el.object3D.uuid );\n\t\treturn new Promise( r => {\n\n\t\t\tlet _this = this;\n\t\t\tnew TWEEN.Tween( { x: from } )\n\t\t\t\t.to( { x: to }, 250 )\n\t\t\t\t.onUpdate( function () {\n\n\t\t\t\t\t_this.el.setAttribute( \"scale\", this.x + \" \" + this.x + \" \" + this.x );\n\n\t\t\t\t} )\n\t\t\t\t.onComplete( () => {\n\n\t\t\t\t\tUI.utils.stoppedChanging( this.el.object3D.uuid );\n\t\t\t\t\tr();\n\n\t\t\t\t} )\n\t\t\t\t.easing( TWEEN.Easing.Exponential.Out )\n\t\t\t\t.start();\n\n\t\t} );\n\n\t},\n\tsetupBacking() {\n\n\t\tlet circleBacking = document.createElement( \"a-circle\" );\n\t\tcircleBacking.className = \"no-yoga-layout\";\n\t\tcircleBacking.setAttribute( \"position\", \"0 0 -0.001\" );\n\t\tcircleBacking.setAttribute( \"material\", {\n\t\t\tcolor: this.data.backingColor,\n\t\t\tflatShading: true,\n\t\t\tshader: \"flat\",\n\t\t\tfog: false,\n\t\t\tside: \"double\"\n\t\t} );\n\t\tcircleBacking.setAttribute( \"radius\", 0.65 );\n\t\tcircleBacking.setAttribute( \"theta-length\", 180 );\n\n\t\tthis.el.appendChild( circleBacking );\n\n\t\tlet planeBacking = document.createElement( \"a-plane\" );\n\t\tplaneBacking.setAttribute( \"position\", \"0 -0.375 -0.001\" );\n\t\tplaneBacking.className = \"no-yoga-layout\";\n\t\tplaneBacking.setAttribute( \"material\", {\n\t\t\tcolor: this.data.backingColor,\n\t\t\tflatShading: true,\n\t\t\tshader: \"flat\",\n\t\t\tfog: false,\n\t\t\tside: \"double\"\n\t\t} );\n\t\tplaneBacking.setAttribute( \"width\", 1.3 );\n\t\tplaneBacking.setAttribute( \"height\", 0.75 );\n\n\t\tthis.el.appendChild( planeBacking );\n\n\t\tlet planeBackingBottom = document.createElement( \"a-plane\" );\n\t\tplaneBackingBottom.setAttribute( \"position\", \"0 -1.05 -0.001\" );\n\t\tplaneBackingBottom.className = \"no-yoga-layout\";\n\t\tplaneBackingBottom.setAttribute( \"material\", {\n\t\t\tcolor: this.data.backingColorBottom,\n\t\t\tflatShading: true,\n\t\t\tshader: \"flat\",\n\t\t\tfog: false,\n\t\t\tside: \"double\"\n\t\t} );\n\t\tplaneBackingBottom.setAttribute( \"width\", 1.3 );\n\t\tplaneBackingBottom.setAttribute( \"height\", 0.6 );\n\t\tthis.el.appendChild( planeBackingBottom );\n\n\t\tlet buttonConfirm = document.createElement( \"a-ui-button\" );\n\t\tbuttonConfirm.setAttribute( \"position\", \"0.315 -1.17 0.001\" );\n\t\tbuttonConfirm.className = \"intersectable no-yoga-layout\";\n\t\tbuttonConfirm.setAttribute( \"text-value\", \"SAVE\" );\n\t\tbuttonConfirm.setAttribute( \"color\", \"#ffffff\" );\n\t\tbuttonConfirm.setAttribute( \"wrap-count\", \"9\" );\n\t\tbuttonConfirm.setAttribute( \"ripple-color\", \"#009688\" );\n\t\tbuttonConfirm.setAttribute( \"font-color\", \"#009688\" );\n\t\tbuttonConfirm.setAttribute( \"ripple-size\", \"0.5 0.18\" );\n\t\tbuttonConfirm.setAttribute( \"width\", 0.5 );\n\t\tbuttonConfirm.setAttribute( \"height\", 0.18 );\n\t\tif ( this.data.targetEl )\n\t\t\tthis.data.targetEl.addEventListener( \"mousedown\", () => {\n\n\t\t\t\tthis.el.open();\n\n\t\t\t} );\n\t\tthis.el.appendChild( buttonConfirm );\n\t\tbuttonConfirm.addEventListener( \"mousedown\", e => {\n\n\t\t\tlet hex = this.getHex();\n\t\t\tthis.el.emit( \"color-selected\", hex );\n\t\t\tthis.el.close();\n\t\t\tUI.utils.preventDefault( e );\n\t\t\tif ( this.data.targetEl ) {\n\n\t\t\t\tthis.data.targetEl.setAttribute( \"color\", hex );\n\n\t\t\t}\n\t\t\tif ( this.selectCallback && typeof this.selectCallback === \"function\" ) {\n\n\t\t\t\tthis.selectCallback( hex );\n\n\t\t\t}\n\n\t\t} );\n\n\t\tlet buttonCancel = document.createElement( \"a-ui-button\" );\n\t\tbuttonCancel.setAttribute( \"position\", \"-0.315 -1.17 0.001\" );\n\t\tbuttonCancel.className = \"intersectable no-yoga-layout\";\n\t\tbuttonCancel.setAttribute( \"text-value\", \"CANCEL\" );\n\t\tbuttonCancel.setAttribute( \"color\", \"#ffffff\" );\n\t\tbuttonCancel.setAttribute( \"wrap-count\", \"9\" );\n\t\tbuttonCancel.setAttribute( \"ripple-color\", \"#ff9800\" );\n\t\tbuttonCancel.setAttribute( \"font-color\", \"#ff9800\" );\n\t\tbuttonCancel.setAttribute( \"ripple-size\", \"0.5 0.18\" );\n\t\tbuttonCancel.setAttribute( \"width\", 0.5 );\n\t\tbuttonCancel.setAttribute( \"height\", 0.18 );\n\n\t\tthis.el.appendChild( buttonCancel );\n\t\tbuttonCancel.addEventListener( \"mousedown\", e => {\n\n\t\t\tthis.el.emit( \"color-cancelled\" );\n\t\t\tthis.el.close();\n\t\t\tUI.utils.preventDefault( e );\n\n\t\t} );\n\t\tthis.hexValue = document.createElement( \"a-text\" );\n\t\tthis.hexValue.setAttribute( \"value\", \"#ffffff\" );\n\t\tthis.hexValue.setAttribute( \"align\", \"center\" );\n\t\tthis.hexValue.setAttribute( \"position\", \"0 -0.9 0.001\" );\n\t\tthis.hexValue.setAttribute( \"wrap-count\", 15 );\n\t\tthis.hexValue.setAttribute( \"width\", 1.3 );\n\n\t\tthis.el.appendChild( this.hexValue );\n\n\t},\n\tsetupColorPreview() {\n\n\t\tthis.colorPreview = document.createElement( \"a-circle\" );\n\t\tthis.colorPreview.setAttribute( \"position\", \"-0.45 -0.9 0\" );\n\t\tthis.colorPreview.setAttribute( \"material\", {\n\t\t\tcolor: \"#ffffff\",\n\t\t\tflatShading: true,\n\t\t\ttransparent: true,\n\t\t\tshader: \"flat\",\n\t\t\tfog: false,\n\t\t\tside: \"double\"\n\t\t} );\n\t\tthis.colorPreview.setAttribute( \"radius\", 0.05 );\n\t\tthis.el.appendChild( this.colorPreview );\n\n\t},\n\tsetupColorWheel() {\n\n\t\tthis.hsv = {\n\t\t\th: 0.0,\n\t\t\ts: 0.0,\n\t\t\tv: 1.0\n\t\t};\n\t\tthis.colorWheel = document.createElement( \"a-circle\" );\n\t\tthis.colorWheel.setAttribute( \"material\", {\n\t\t\tcolor: \"#ffffff\",\n\t\t\tflatShading: true,\n\t\t\ttransparent: true,\n\t\t\tshader: \"flat\",\n\t\t\tfog: false,\n\t\t\tside: \"double\"\n\t\t} );\n\t\tthis.colorWheel.setAttribute( \"radius\", 0.5 );\n\t\tthis.el.appendChild( this.colorWheel );\n\t\tthis.colorWheel.className = \"intersectable no-yoga-layout\";\n\t\tthis.colorWheel.addEventListener( \"loaded\", () => {\n\n\t\t\tlet colorWheel = this.colorWheel.getObject3D( \"mesh\" );\n\t\t\tlet vertexShader =\n        \"\\n\\n      varying vec2 vUv;\\n      void main() {\\n        vUv = uv;\\n        vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\\n        gl_Position = projectionMatrix * mvPosition;\\n      }\\n    \";\n\n\t\t\tlet fragmentShader =\n        \"\\n      #define M_PI2 6.28318530718\\n      uniform float brightness;\\n      varying vec2 vUv;\\n      vec3 hsb2rgb(in vec3 c){\\n          vec3 rgb = clamp(abs(mod(c.x * 6.0 + vec3(0.0, 4.0, 2.0), 6.0) - 3.0) - 1.0, 0.0, 1.0 );\\n          rgb = rgb * rgb * (3.0 - 2.0 * rgb);\\n          return c.z * mix( vec3(1.0), rgb, c.y);\\n      }\\n\\n      void main() {\\n        vec2 toCenter = vec2(0.5) - vUv;\\n        float angle = atan(toCenter.y, toCenter.x);\\n        float radius = length(toCenter) * 2.0;\\n        vec3 color = hsb2rgb(vec3((angle / M_PI2) + 0.5, radius, brightness));\\n        gl_FragColor = vec4(color, 1.0);\\n      }\\n      \";\n\n\t\t\tcolorWheel.material = new THREE.ShaderMaterial( {\n\t\t\t\tuniforms: {\n\t\t\t\t\tbrightness: {\n\t\t\t\t\t\ttype: \"f\",\n\t\t\t\t\t\tvalue: this.hsv.v\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tvertexShader: vertexShader,\n\t\t\t\tfragmentShader: fragmentShader\n\t\t\t} );\n\t\t\tcolorWheel.material.needsUpdate = true;\n\n\t\t} );\n\n\t},\n\tsetupBrightnessSlider() {\n\n\t\tthis.brightnessSlider = document.createElement( \"a-plane\" );\n\t\tthis.brightnessSlider.setAttribute( \"height\", 0.1 );\n\t\tthis.brightnessSlider.setAttribute( \"width\", 0.8 );\n\t\tthis.brightnessSlider.setAttribute( \"position\", \"0 -0.6 0\" );\n\t\tthis.brightnessSlider.className = \"intersectable no-yoga-layout\";\n\t\tthis.el.appendChild( this.brightnessSlider );\n\t\tthis.brightnessSlider.addEventListener( \"loaded\", () => {\n\n\t\t\tlet vertexShader =\n        \"\\n      varying vec2 vUv;\\n      void main(){\\n        vUv = uv;\\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\\n      }\\n    \";\n\n\t\t\tlet fragmentShader =\n        \"\\n      uniform vec3 color1;\\n      uniform vec3 color2;\\n      varying vec2 vUv;\\n\\n      void main(){\\n        vec4 c1 = vec4(color1, 1.0);\\n  \\t    vec4 c2 = vec4(color2, 1.0);\\n\\n        vec4 color = mix(c2, c1, smoothstep(0.0, 1.0, vUv.x));\\n        gl_FragColor = color;\\n      }\\n    \";\n\n\t\t\tthis.brightnessSlider.getObject3D( \"mesh\" ).material = new THREE.ShaderMaterial( {\n\t\t\t\tuniforms: {\n\t\t\t\t\tcolor1: {\n\t\t\t\t\t\ttype: \"c\",\n\t\t\t\t\t\tvalue: new THREE.Color( 0xffffff )\n\t\t\t\t\t},\n\t\t\t\t\tcolor2: {\n\t\t\t\t\t\ttype: \"c\",\n\t\t\t\t\t\tvalue: new THREE.Color( 0x000000 )\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tvertexShader: vertexShader,\n\t\t\t\tfragmentShader: fragmentShader\n\t\t\t} );\n\t\t\tthis.brightnessSlider.getObject3D( \"mesh\" ).material.needsUpdate = true;\n\n\t\t} );\n\t\tlet brightnessResetLeft = document.createElement( \"a-triangle\" );\n\t\tbrightnessResetLeft.setAttribute( \"vertex-a\", \"0 0.05 0\" );\n\t\tbrightnessResetLeft.setAttribute( \"vertex-b\", \"-0.05 -0.05 0\" );\n\t\tbrightnessResetLeft.setAttribute( \"vertex-c\", \"0.05 -0.05 0\" );\n\t\tbrightnessResetLeft.setAttribute( \"position\", \"-0.475 -0.6 0\" );\n\t\tbrightnessResetLeft.setAttribute( \"rotation\", \"0 0 90\" );\n\t\tbrightnessResetLeft.setAttribute( \"shader\", \"flat\" );\n\t\tbrightnessResetLeft.setAttribute( \"color\", \"#009688\" );\n\t\tbrightnessResetLeft.setAttribute( \"ui-btn\", \"\" );\n\t\tbrightnessResetLeft.className = \"intersectable\";\n\t\tthis.el.appendChild( brightnessResetLeft );\n\n\t\tlet brightnessResetRight = document.createElement( \"a-triangle\" );\n\t\tbrightnessResetRight.setAttribute( \"vertex-a\", \"0 0.05 0\" );\n\t\tbrightnessResetRight.setAttribute( \"vertex-b\", \"-0.05 -0.05 0\" );\n\t\tbrightnessResetRight.setAttribute( \"vertex-c\", \"0.05 -0.05 0\" );\n\t\tbrightnessResetRight.setAttribute( \"position\", \"0.475 -0.6 0\" );\n\t\tbrightnessResetRight.setAttribute( \"rotation\", \"0 0 -90\" );\n\t\tbrightnessResetRight.setAttribute( \"color\", \"#009688\" );\n\t\tbrightnessResetRight.setAttribute( \"shader\", \"flat\" );\n\t\tbrightnessResetRight.setAttribute( \"ui-btn\", \"\" );\n\t\tbrightnessResetRight.className = \"intersectable\";\n\t\tthis.el.appendChild( brightnessResetRight );\n\n\t\tbrightnessResetLeft.addEventListener( \"mousedown\", () => {\n\n\t\t\tUI.utils.isChanging( this.el.sceneEl, this.el.object3D.uuid );\n\t\t\tthis.colorWheel.getObject3D( \"mesh\" ).material.uniforms[ \"brightness\" ].value = 0;\n\t\t\tthis.hsv.v = 0;\n\t\t\tthis.hsv.h = 0;\n\t\t\tthis.hsv.s = 0;\n\t\t\tthis.updateColor();\n\t\t\tUI.utils.stoppedChanging( this.el.object3D.uuid );\n\n\t\t} );\n\t\tbrightnessResetRight.addEventListener( \"mousedown\", () => {\n\n\t\t\tUI.utils.isChanging( this.el.sceneEl, this.el.object3D.uuid );\n\t\t\tthis.colorWheel.getObject3D( \"mesh\" ).material.uniforms[ \"brightness\" ].value = 1;\n\t\t\tthis.hsv.v = 1;\n\t\t\tthis.hsv.h = 0;\n\t\t\tthis.hsv.s = 0;\n\t\t\tthis.updateColor();\n\t\t\tUI.utils.stoppedChanging( this.el.object3D.uuid );\n\n\t\t} );\n\n\t},\n\tgetHex() {\n\n\t\tlet rgb = this.hsvToRgb( this.hsv ),\n\t\t\tcolor = \"rgb(\" + rgb.r + \", \" + rgb.g + \", \" + rgb.b + \")\";\n\t\treturn \"#\" + new THREE.Color( color ).getHexString();\n\n\t},\n\tupdateColor() {\n\n\t\tlet hex = this.getHex();\n\t\tthis.colorPreview.setAttribute( \"color\", hex );\n\t\tthis.hexValue.setAttribute( \"value\", hex );\n\n\t},\n\tsetupEvents() {\n\n\t\tthis.colorWheel.addEventListener( \"mousedown\", e => {\n\n\t\t\tthis.isMouseDown = true;\n\t\t\tUI.utils.preventDefault( e );\n\n\t\t} );\n\t\tthis.colorWheel.addEventListener( \"mouseup\", e => {\n\n\t\t\tthis.isMouseDown = false;\n\t\t\tUI.utils.preventDefault( e );\n\n\t\t} );\n\t\tthis.colorWheel.addEventListener( \"ui-mousemove\", e => {\n\n\t\t\tif ( ! this.isMouseDown ) return;\n\t\t\tUI.utils.preventDefault( e );\n\n\t\t\tUI.utils.isChanging( this.el.sceneEl, this.el.object3D.uuid );\n\t\t\tlet colorWheel = this.colorWheel.getObject3D( \"mesh\" ),\n\t\t\t\tradius = 0.5,\n\t\t\t\tposition = e.detail.intersection.point;\n\n\t\t\tcolorWheel.updateMatrixWorld();\n\t\t\tcolorWheel.worldToLocal( position );\n\n\t\t\t//Determine Hue and Saturation value from polar co-ordinates\n\t\t\tlet polarPosition = {\n\t\t\t\tr: Math.sqrt( position.x * position.x + position.y * position.y ),\n\t\t\t\ttheta: Math.PI + Math.atan2( position.y, position.x )\n\t\t\t};\n\n\t\t\tlet angle = ( polarPosition.theta * ( 180 / Math.PI ) + 180 ) % 360;\n\t\t\tthis.hsv.h = angle / 360;\n\t\t\tthis.hsv.s = polarPosition.r / radius;\n\t\t\tthis.updateColor();\n\t\t\tUI.utils.stoppedChanging( this.el.object3D.uuid );\n\n\t\t} );\n\t\tthis.brightnessSlider.addEventListener( \"mousedown\", e => {\n\n\t\t\tthis.isMouseDown = true;\n\t\t\tUI.utils.preventDefault( e );\n\n\t\t} );\n\t\tthis.brightnessSlider.addEventListener( \"mouseup\", e => {\n\n\t\t\tthis.isMouseDown = false;\n\t\t\tUI.utils.preventDefault( e );\n\n\t\t} );\n\t\tthis.brightnessSlider.addEventListener( \"ui-mousemove\", e => {\n\n\t\t\tUI.utils.preventDefault( e );\n\t\t\tUI.utils.isChanging( this.el.sceneEl, this.el.object3D.uuid );\n\t\t\tif ( ! this.isMouseDown ) return;\n\t\t\tlet brightnessSlider = this.brightnessSlider.getObject3D( \"mesh\" ),\n\t\t\t\tcolorWheel = this.colorWheel.getObject3D( \"mesh\" ),\n\t\t\t\tposition = e.detail.intersection.point;\n\n\t\t\tbrightnessSlider.updateMatrixWorld();\n\t\t\tbrightnessSlider.worldToLocal( position );\n\n\t\t\t//Brightness is a value between 0 and 1. The parent plane is centre registered, hence offset\n\t\t\tlet cursorOffset = position.x + 0.4; //this.brightnessSliderHeight / 2;\n\t\t\tlet brightness = cursorOffset / 0.8; //this.brightnessSliderHeight;\n\n\t\t\t//Update material brightness\n\t\t\tcolorWheel.material.uniforms[ \"brightness\" ].value = brightness;\n\t\t\tthis.hsv.v = brightness;\n\t\t\tthis.updateColor();\n\t\t\tUI.utils.stoppedChanging( this.el.object3D.uuid );\n\n\t\t} );\n\n\t},\n\thsvToRgb( hsv ) {\n\n\t\tlet r, g, b, i, f, p, q, t;\n\t\tlet h = THREE.Math.clamp( hsv.h, 0, 1 );\n\t\tlet s = THREE.Math.clamp( hsv.s, 0, 1 );\n\t\tlet v = hsv.v;\n\n\t\ti = Math.floor( h * 6 );\n\t\tf = h * 6 - i;\n\t\tp = v * ( 1 - s );\n\t\tq = v * ( 1 - f * s );\n\t\tt = v * ( 1 - ( 1 - f ) * s );\n\t\tswitch ( i % 6 ) {\n\n\t\t\tcase 0:\n\t\t\t\tr = v;\n\t\t\t\tg = t;\n\t\t\t\tb = p;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tr = q;\n\t\t\t\tg = v;\n\t\t\t\tb = p;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tr = p;\n\t\t\t\tg = v;\n\t\t\t\tb = t;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tr = p;\n\t\t\t\tg = q;\n\t\t\t\tb = v;\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tr = t;\n\t\t\t\tg = p;\n\t\t\t\tb = v;\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tr = v;\n\t\t\t\tg = p;\n\t\t\t\tb = q;\n\t\t\t\tbreak;\n\n\t\t}\n\t\treturn {\n\t\t\tr: Math.round( r * 255 ),\n\t\t\tg: Math.round( g * 255 ),\n\t\t\tb: Math.round( b * 255 )\n\t\t};\n\n\t}\n} );\n","/* global AFRAME,THREE */\n/**\n * Modal Component for aframe-material-collection.\n * @namespace aframe-material-collection\n * @component ui-modal\n * @author Shane Harris\n */\nmodule.exports = AFRAME.registerComponent( \"ui-modal\", {\n\tschema: {\n\t\tmodal: { type: \"selector\" },\n\t\tmain: { type: \"selector\" }\n\t},\n\tinit() {\n\n\t\tif ( this.data.modal && this.data.main ) {\n\n\t\t\t// Get the modal panel to be able to animate its scale on open/close.\n\t\t\tthis.modalPanel = document.querySelector( this.data.modal.getAttribute( \"ui-panel\" ) );\n\n\t\t\tthis.mainComponents = this.data.main.components;\n\t\t\tthis.modalComponents = this.data.modal.components;\n\t\t\t// Pause rendering of modal until opened.\n\t\t\tif ( this.modalComponents && this.modalComponents[ \"ui-renderer\" ] ) {\n\n\t\t\t\tthis.modalComponents[ \"ui-renderer\" ].pause();\n\n\t\t\t}\n\t\t\t// Setup close listeners for anything with the class close-modal.\n\t\t\tlet close_buttons = this.data.modal.querySelectorAll( \".close-modal\" );\n\t\t\tfor ( let i = 0; i < close_buttons.length; i ++ ) {\n\n\t\t\t\tlet close_button = close_buttons[ i ];\n\t\t\t\tclose_button.addEventListener( \"mousedown\", () => {\n\n\t\t\t\t\tthis.close();\n\n\t\t\t\t} );\n\n\t\t\t}\n\t\t\t// Add click handler for opening the modal, pause the main render screen and play the modal renderer\n\t\t\tthis.openModal = this.open.bind( this );\n\t\t\tthis.el.addEventListener( \"mousedown\", this.openModal );\n\t\t\tthis.data.main.modal = this;\n\n\t\t\t// Expose methods to open/close the modal.\n\t\t\tthis.el.open = this.open.bind( this );\n\t\t\tthis.el.close = this.close.bind( this );\n\n\t\t}\n\n\t},\n\tremove() {\n\n\t\tthis.el.removeEventListener( \"mousedown\", this.openModal );\n\n\t},\n\topen() {\n\n\t\tif ( this.mainComponents && this.mainComponents[ \"ui-renderer\" ] ) {\n\n\t\t\tthis.mainComponents[ \"ui-renderer\" ].pauseRender();\n\t\t\tthis.tweenModalScale( 0.0000001, 1 );\n\t\t\tthis.modalComponents[ \"ui-renderer\" ].play();\n\n\t\t}\n\n\t},\n\tclose() {\n\n\t\t// Pause the modal rendering and play the main rendering again.\n\t\tthis.modalComponents[ \"ui-renderer\" ].pause();\n\t\tthis.mainComponents[ \"ui-renderer\" ].play();\n\t\tthis.mainComponents[ \"ui-renderer\" ].playRender();\n\t\tthis.tweenModalScale( 1, 0.0000001 ).then( () => {\n\n\t\t\tthis.el.sceneEl.emit( \"modal-closed\" );\n\n\t\t} );\n\n\t},\n\ttweenModalScale( from, to ) {\n\n\t\treturn new Promise( r => {\n\n\t\t\tlet _this = this;\n\t\t\tnew TWEEN.Tween( { x: from } )\n\t\t\t\t.to( { x: to }, 250 )\n\t\t\t\t.onUpdate( function () {\n\n\t\t\t\t\tif ( _this.modalPanel ) _this.modalPanel.setAttribute( \"scale\", this.x + \" \" + this.x + \" \" + this.x );\n\n\t\t\t\t} )\n\t\t\t\t.onComplete( r )\n\t\t\t\t.easing( TWEEN.Easing.Exponential.Out )\n\t\t\t\t.start();\n\n\t\t} );\n\n\t}\n} );\n","export class Utils {\n\n\tconstructor() {\n\n\t\tthis.changesDetected = {};\n\t\tthis.is_changeing = false;\n\t\t// setInterval(()=>{\n\t\t//     let now = new Date().getTime();\n\t\t//     for(let key in this.changesDetected){\n\t\t//         let change = this.changesDetected[key];\n\t\t//         if(change.t&&now-change.t>2000){\n\t\t//             this.stoppedChanging(key);\n\t\t//         }\n\t\t//     }\n\t\t// },2000);\n\n\t}\n\tisFirstOrLastChange() {\n\n\t\tlet empty = true;\n\n\t\tfor ( let key in this.changesDetected ) {\n\n\t\t\tempty = false;\n\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( ! this.is_changeing && ! empty ) {\n\n\t\t\tthis.scene.emit( \"ui-changing\" );\n\t\t\tthis.is_changeing = true;\n\n\t\t} else if ( this.is_changeing && empty ) {\n\n\t\t\tif ( this.is_changeing ) {\n\n\t\t\t\tthis.scene.emit( \"ui-changing-stopped\" );\n\t\t\t\tthis.is_changeing = false;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\tpreventDefault( e ) {\n\n\t\tif ( e.detail && e.detail.preventDefault && typeof e.detail.preventDefault === \"function\" ) {\n\n\t\t\te.detail.preventDefault();\n\n\t\t}\n\n\t}\n\tshorten( string, length ) {\n\n\t\treturn string.length > length ? string.substr( 0, length ) + \"...\" : string;\n\n\t}\n\tucFirst( string ) {\n\n\t\treturn string.charAt( 0 ).toUpperCase() + string.slice( 1 );\n\n\t}\n\tisChanging( scene, ref ) {\n\n\t\tlet index = this.changesDetected[ ref ];\n\t\tif ( ! index ) {\n\n\t\t\tthis.scene = this.scene || scene;\n\t\t\tlet now = new Date().getTime();\n\t\t\tthis.changesDetected[ ref ] = { t: now };\n\t\t\tthis.isFirstOrLastChange();\n\n\t\t} else {\n\n\t\t\tthis.changesDetected[ ref ].t = new Date().getTime();\n\n\t\t}\n\n\t}\n\tstoppedChanging( ref ) {\n\n\t\tdelete this.changesDetected[ ref ];\n\t\tthis.isFirstOrLastChange();\n\n\t}\n\tcopyToClipboard( text ) {\n\n\t\tnavigator.clipboard.writeText( text ).then(\n\t\t\t() => {},\n\t\t\terr => {\n\n\t\t\t\tconsole.error( \"copy to clipboard failed:\", err );\n\n\t\t\t}\n\t\t);\n\n\t}\n\tclearObject( object ) {\n\n\t\tobject.traverse( child => {\n\n\t\t\tif ( child.material ) {\n\n\t\t\t\tif ( child.material.length ) {\n\n\t\t\t\t\tfor ( let i = 0; i < child.material.length; i ++ ) {\n\n\t\t\t\t\t\tif ( child.material[ i ].map ) {\n\n\t\t\t\t\t\t\tchild.material[ i ].map.dispose();\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchild.material[ i ].dispose();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( child.material.map ) {\n\n\t\t\t\t\t\tchild.material.map.dispose();\n\n\t\t\t\t\t}\n\t\t\t\t\tchild.material.dispose();\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif ( child.geometry ) {\n\n\t\t\t\tchild.geometry.dispose();\n\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n}\n","/* global AFRAME */\n/**\n * Application entry point\n * @author Shane Harris\n */\nimport { Utils } from \"./utils\";\n\nlet version = require( \"./../package.json\" ).version;\nconsole.log( \"aframe-material-collection version \" + version );\n\nif ( typeof AFRAME === \"undefined\" ) {\n\n\tthrow 'aframe-material-collection requires AFRAME to be loaded first. - <script src=\"https://aframe.io/releases/0.8.2/aframe.min.js\"></script>';\n\n}\nlet utils = new Utils();\n\nwindow.UI = {\n\t// Utils\n\tutils: utils,\n\t// Primitives\n\ta_ui_button: require( \"./primitives/button\" ),\n\ta_ui_fab_button: require( \"./primitives/fab_button\" ),\n\ta_ui_fab_button_small: require( \"./primitives/fab_button_small\" ),\n\ta_ui_switch: require( \"./primitives/switch\" ),\n\ta_ui_slider: require( \"./primitives/slider\" ),\n\ta_ui_number: require( \"./primitives/number\" ),\n\ta_ui_toast: require( \"./primitives/toast\" ),\n\ta_ui_checkbox: require( \"./primitives/checkbox\" ),\n\ta_ui_radio: require( \"./primitives/radio\" ),\n\ta_ui_input_text: require( \"./primitives/input-text\" ),\n\ta_ui_text_input: require( \"./primitives/text-input\" ),\n\ta_ui_number_input: require( \"./primitives/number-input\" ),\n\ta_ui_int_input: require( \"./primitives/int-input\" ),\n\ta_ui_password_input: require( \"./primitives/password-input\" ),\n//\ta_ui_scroll_pane: require( \"./primitives/scroll-pane\" ),\n\ta_ui_renderer: require( \"./primitives/renderer\" ),\n\n\t// Components\n\ttext: require( \"./components/text\" ),\n\tinput_text: require( \"./components/input-text\" ),\n\tbtn: require( \"./components/btn\" ),\n\ticon: require( \"./components/icon\" ),\n\trounded: require( \"./components/rounded\" ),\n\tripple: require( \"./components/ripple\" ),\n\tslider: require( \"./components/slider\" ),\n\tnumber: require( \"./components/number\" ),\n\tswitch: require( \"./components/switch\" ),\n\ttoast: require( \"./components/toast\" ),\n\t//scroll_pane: require( \"./components/scroll-pane\" ),\n\tmouse_shim: require( \"./components/mouse-shim\" ),\n\tdouble_click: require( \"./components/double-click\" ),\n\tcheckbox: require( \"./components/checkbox\" ),\n\tradio: require( \"./components/radio\" ),\n\tborder: require( \"./components/border\" ),\n\tcurvedPlane: require( \"./components/curved-plane\" ),\n\tcolorPicker: require( \"./components/color-picker\" ),\n\tmodal: require( \"./components/modal\" ),\n\trenderer: require( \"./components/renderer\" )\n};\n//module.exports = UI;\n"],"sourceRoot":""}