!function(e){var t={};function s(i){if(t[i])return t[i].exports;var l=t[i]={i:i,l:!1,exports:{}};return e[i].call(l.exports,l,l.exports,s),l.l=!0,l.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)s.d(i,l,function(t){return e[t]}.bind(null,l));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=28)}({10:function(e,t){e.exports=AFRAME.registerComponent("ui-slider",{schema:{value:{type:"number",default:0},disabled:{type:"boolean",default:!1},progressColor:{default:"#4db6ac"},handleColor:{default:"#606572"},handleDisabledColor:{default:"#afafaf"},railColor:{default:"#fff"},handleZIndex:{type:"number",default:.001},intersectableClass:{default:"intersectable"},width:{type:"number",default:.5},height:{type:"number",default:.1},lookControlsComponent:{default:"look-controls"},handleRadius:{type:"number",default:.055},scrollZOffset:{type:"number",default:0},cameraEl:{type:"selector"},courser2d:{type:"boolean",default:!1}},getValue(){return this.scroll_perc},init(){this.scroll_perc=this.data.value,this.width=this.data.width,this.height=this.data.height,this.handleEl=document.createElement("a-circle"),this.handleEl.setAttribute("radius",this.data.handleRadius),this.handleEl.setAttribute("color",this.data.handleColor),this.handleEl.setAttribute("shader","flat"),this.handleEl.setAttribute("class",this.data.intersectableClass+" no-yoga-layout"),this.handleEl.setAttribute("position",-this.data.width/2+this.data.handleRadius+" 0 "+this.data.handleZIndex),this.el.appendChild(this.handleEl),this.railEl=document.createElement("a-plane"),this.railEl.setAttribute("width",this.data.width-this.data.handleRadius/2),this.railEl.setAttribute("height","0.05"),this.railEl.setAttribute("shader","flat"),this.railEl.setAttribute("color",this.data.railColor),this.railEl.setAttribute("class","ui"),this.el.appendChild(this.railEl),this.railEl.addEventListener("loaded",()=>{this.getRailObject(this.railEl.object3D),this.slide(this.scroll_perc,!0)}),this.data.disabled||(this.handleEl.addEventListener("mouseover",e=>this.mouseEnter(e)),this.handleEl.addEventListener("mouseout",e=>this.mouseLeave(e)));const e=e=>{if(this.data.cameraEl){const t=this.data.cameraEl.components[this.data.lookControlsComponent];t&&t[e]()}},t=e=>this.mouseMove(e);this.handleEl.addEventListener("mousedown",i=>{e("pause"),this.isDragging=!0,this.el.emit("slide-start",this.scroll_perc),this.handlePos=this.handleEl.object3D.worldToLocal(i.detail.intersection?i.detail.intersection.point:i.relatedTarget.object3D.position).x,this.railEl.addEventListener("ui-mousemove",t),this.handleEl.addEventListener("ui-mousemove",t),this.railEl.addEventListener("mouseup",s,{once:!0}),this.handleEl.addEventListener("mouseup",s,{once:!0}),UI.utils.isChanging(this.el.sceneEl,this.handleEl.object3D.uuid),UI.utils.preventDefault(i)});const s=i=>{this.isDragging&&(this.railEl.removeEventListener("ui-mousemove",t),this.handleEl.removeEventListener("ui-mousemove",t),this.railEl.removeEventListener("mouseup",s,{once:!0}),this.handleEl.removeEventListener("mouseup",s,{once:!0}),e("play"),this.isDragging=!1,this.el.emit("slide-end",this.scroll_perc),UI.utils.stoppedChanging(this.handleEl.object3D.uuid),UI.utils.preventDefault(i))};this.el.slide=this.slide.bind(this),this.el.getValue=this.getValue.bind(this),this.el.railEl=this.railEl},mouseEnter(){this.data.courser2d&&(this.el.sceneEl.classList.remove("grab-cursor"),this.el.sceneEl.classList.add("pointer-cursor"))},mouseLeave(){this.data.courser2d&&(this.el.sceneEl.classList.remove("pointer-cursor"),this.el.sceneEl.classList.add("grab-cursor"))},slide(e,t){const s=-this.data.width/2+this.data.handleRadius,i=this.data.width/2-this.data.handleRadius,l=t?s+(i-s)*e:THREE.Math.clamp(e,s,i);this.scroll_perc=t?e:(l-s)/(i-s),this.el.emit("slide",this.scroll_perc),this.handleEl.setAttribute("position",l+" 0 "+(this.data.scrollZOffset+5e-4))},mouseMove(e){if(console.error("mouseMove slider"),this.isDragging){const t=this.railEl.object3D.worldToLocal(e.detail.intersection.point);this.slide(t.x-this.handlePos+this.data.handleRadius)}},update(){this.scroll_perc=this.data.value,this.data.disabled?(this.handleEl.removeEventListener("mouseover",e=>this.mouseEnter(e)),this.handleEl.removeEventListener("mouseout",e=>this.mouseLeave(e))):(this.handleEl.addEventListener("mouseover",e=>this.mouseEnter(e)),this.handleEl.addEventListener("mouseout",e=>this.mouseLeave(e)))},getRailObject(e){e.traverse(e=>{e.geometry&&"ShapeBufferGeometry"===e.geometry.type&&(this.progress=new THREE.Mesh(e.geometry.clone(),new THREE.MeshBasicMaterial({color:this.data.progressColor})),this.progress.position.set(-this.data.width/2,0,1e-4),this.progress.scale.set(1e-5,1,1),this.el.object3D.add(this.progress))})},remove(){this.el.removeObject3D("ui-slider")}})},28:function(e,t,s){"use strict";s.r(t);s(10),s(5)},5:function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-slider",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-slider":{}},mappings:{value:"ui-slider.value",disabled:"ui-slider.disabled",courser2d:"ui-slider.courser2d","camera-el":"ui-slider.cameraEl"}}))}});