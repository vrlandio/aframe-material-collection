!function(e){var t={};function i(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=24)}([function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-button",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"notroika-text":{align:"left",depthOffset:-6e3,wrapCount:10,fontSize:.015},"box-rounded":{width:.03,height:.01,depth:.01,color:16711680,curveSegments:13,borderRadius:.01,material:"standard",envMapIntensity:.75},"ui-btn":{animated:"ui-btn.animated"}},mappings:{height:"box-rounded.height",width:"box-rounded.width",depth:"box-rounded.depth",color:"box-rounded.color",transparent:"box-rounded.transparent","text-value":"troika-text.value","text-size":"troika-text.fontSize","text-color":"troika-text.color",animated:"ui-btn.animated",courser2d:"ui-btn.courser2d",disabled:"ui-btn.disabled","hover-height":"ui-btn.hoverHeight","active-height":"ui-btn.activeHeight"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-fab-button",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{geometry:{primitive:"circle",radius:.1,segments:6},material:{color:"#009688",shader:"flat",transparent:"false"}},mappings:{radius:"geometry.radius",color:"material.color",transparent:"material.transparent",src:"ui-icon.src","icon-mesh":"ui-icon.iconmesh",disabled:"ui-btn.disabled",animated:"ui-btn.animated",courser2d:"ui-btn.courser2d",tooltip:"ui-btn.tooltip"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-fab-button-small",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{geometry:{primitive:"circle",radius:.055,segments:6},material:{color:"#009688",shader:"flat"},"ui-icon":{zIndex:1e-5,iconmesh:"circle",size:{x:.1,y:.1},width:.01,height:.01,radius:.04},"ui-btn":{}},mappings:{radius:"geometry.radius",radiusicon:"ui-icon.radius",color:"material.color","icon-color":"ui-icon.color",transparent:"material.transparent",src:"ui-icon.src","icon-mesh":"ui-icon.iconmesh",disabled:"ui-btn.disabled",animated:"ui-btn.animated",courser2d:"ui-btn.courser2d",tooltip:"ui-btn.tooltip",tooltiptext:"ui-btn.tooltiptext"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-round-button",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"box-rounded":{zOffset:-.025,depth:.025,width:.2,height:.075,opacity:.8,borderRadius:.02,curveSegments:16,color:"#232328"},"troika-text":{zOffset:-.025,fontSize:.1,depthOffset:-.1,"depth-offset":-.1,align:"center",color:"#000000",font:"/assets/fonts/FiraMono-Regular.ttf"}},mappings:{height:"box-rounded.height",width:"box-rounded.width",color:"box-rounded.color","font-color":"troika-text.color","text-value":"troika-text.value","wrap-count":"troika-text.wrapCount",animated:"ui-btn.animated",courser2d:"ui-btn.courser2d",disabled:"ui-btn.disabled","hover-height":"ui-btn.hoverHeight","active-height":"ui-btn.activeHeight"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-switch",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-switch":{}},mappings:{value:"ui-switch.value",disabled:"ui-switch.disabled",courser2d:"ui-switch.courser2d"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-slider",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-slider":{}},mappings:{value:"ui-slider.value",disabled:"ui-slider.disabled",courser2d:"ui-slider.courser2d","camera-el":"ui-slider.cameraEl"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-checkbox",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-checkbox":{},"ui-ripple":{size:{x:.1,y:.1},zIndex:-.001,color:"#afafaf"}},mappings:{value:"ui-checkbox.value",disabled:"ui-checkbox.disabled",indeterminate:"ui-checkbox.indeterminate"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-radio",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-radio":{},geometry:{primitive:"ring",radiusInner:.0575,radiusOuter:.0675,segmentsTheta:6},material:{shader:"flat",color:"#afafaf"}},mappings:{color:"ui-radio.selectedColor",value:"ui-radio.value",selected:"ui-radio.selected",disabled:"ui-radio.disabled"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-input-text",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-input-text":{placeHolder:"Text...",width:1,height:.2,value:""},"ui-double-click":{}},mappings:{width:"ui-input-text.width",height:"ui-input-text.height",type:"ui-input-text.type",value:"ui-input-text.value","background-color":"ui-input-text.backgroundColor","place-holder":"ui-input-text.placeHolder","camera-el":"ui-input-text.cameraEl","rig-el":"ui-input-text.rigEl","look-controls-component":"ui-input-text.lookControlsComponent","wasd-controls-component":"ui-input-text.wasdControlsComponent"}}))},function(e,t){e.exports=AFRAME.registerComponent("ui-btn",{schema:{duration:{type:"int",default:0},hoverHeight:{type:"number",default:.001},activeHeight:{type:"number",default:-.001},disabled:{type:"boolean",default:!1},animated:{type:"boolean",default:!0},courser2d:{type:"boolean",default:!1},tooltip:{type:"boolean",default:!1},tooltiptext:{type:"string",default:"tooltip"},tooltipwidth:{type:"number",default:.1}},updateSchema(){},init(){this.defaultZ=this.el.object3D.position.z,this.data.disabled||(this.el.addEventListener("mouseover",e=>this.mouseEnter(e)),this.el.addEventListener("mousedown",e=>this.mouseDown(e)),this.el.addEventListener("mouseup",e=>this.mouseUp(e)),this.el.addEventListener("mouseout",e=>this.mouseLeave(e)))},update(){this.data.disabled?(this.el.removeEventListener("mouseover",e=>this.mouseEnter(e)),this.el.removeEventListener("mousedown",e=>this.mouseDown(e)),this.el.removeEventListener("mouseup",e=>this.mouseUp(e)),this.el.removeEventListener("mouseout",e=>this.mouseLeave(e))):(this.el.removeEventListener("mouseover",e=>this.mouseEnter(e)),this.el.removeEventListener("mousedown",e=>this.mouseDown(e)),this.el.removeEventListener("mouseup",e=>this.mouseUp(e)),this.el.removeEventListener("mouseout",e=>this.mouseLeave(e)),this.el.addEventListener("mouseover",e=>this.mouseEnter(e)),this.el.addEventListener("mousedown",e=>this.mouseDown(e)),this.el.addEventListener("mouseup",e=>this.mouseUp(e)),this.el.addEventListener("mouseout",e=>this.mouseLeave(e)))},mouseEnter(e){if(this.data.animated){this.data.courser2d&&(this.el.sceneEl.classList.remove("grab-cursor"),this.el.sceneEl.classList.add("pointer-cursor"));const e=this;this.tween(this.defaultZ,this.defaultZ+this.data.hoverHeight,function(){e.el.object3D.position.z=this.x},function(){e.el.object3D.position.z=e.defaultZ+e.data.hoverHeight})}this.data.tooltip&&this.el.setAttribute("box-rounded-text",{width:this.data.tooltipwidth,height:.015,depth:.001,color:16777200,curveSegments:13,borderRadius:.005,material:"phong",zOffset:0,xOffset:0,yOffset:.03,envMapIntensity:1,text:this.data.tooltiptext})},mouseLeave(e){if(this.is_clicked)return this.is_clicked=!1;this.data.animated&&(this.resetAnimation(this.defaultZ+this.data.hoverHeight),this.data.courser2d&&(this.el.sceneEl.classList.remove("pointer-cursor"),this.el.sceneEl.classList.add("grab-cursor"))),this.data.tooltip&&this.el.removeAttribute("box-rounded-text"),console.error("mouseLeave Button")},mouseUp(e){this.is_clicked=!0,this.data.animated&&this.resetAnimation(this.defaultZ+this.data.activeHeight),UI.utils.preventDefault(e)},mouseDown(e){UI.utils.preventDefault(e)},resetAnimation(e){const t=this;this.tween(e,this.defaultZ,function(){t.el.object3D.position.z=this.x},function(){t.el.object3D.position.z=t.defaultZ})},tween(e,t,i,s){const a=this;return UI.utils.isChanging(this.el.sceneEl,this.el.object3D.uuid),new TWEEN.Tween({x:e}).to({x:t},this.data.duration).onUpdate(i).onComplete(function(){return UI.utils.stoppedChanging(a.el.object3D.uuid),s.call(this)}).easing(TWEEN.Easing.Exponential.Out).start()}})},function(e,t){e.exports=AFRAME.registerComponent("ui-slider",{schema:{value:{type:"number",default:0},disabled:{type:"boolean",default:!1},progressColor:{default:"#4db6ac"},handleColor:{default:"#606572"},handleDisabledColor:{default:"#afafaf"},railColor:{default:"#fff"},handleZIndex:{type:"number",default:.001},intersectableClass:{default:"intersectable"},width:{type:"number",default:.5},height:{type:"number",default:.1},lookControlsComponent:{default:"look-controls"},handleRadius:{type:"number",default:.055},scrollZOffset:{type:"number",default:0},cameraEl:{type:"selector"},courser2d:{type:"boolean",default:!1}},getValue(){return this.scroll_perc},init(){this.scroll_perc=this.data.value,this.width=this.data.width,this.height=this.data.height,this.handleEl=document.createElement("a-circle"),this.handleEl.setAttribute("radius",this.data.handleRadius),this.handleEl.setAttribute("color",this.data.handleColor),this.handleEl.setAttribute("shader","flat"),this.handleEl.setAttribute("class",this.data.intersectableClass+" no-yoga-layout"),this.handleEl.setAttribute("position",-this.data.width/2+this.data.handleRadius+" 0 "+this.data.handleZIndex),this.el.appendChild(this.handleEl),this.railEl=document.createElement("a-plane"),this.railEl.setAttribute("width",this.data.width-this.data.handleRadius/2),this.railEl.setAttribute("height","0.05"),this.railEl.setAttribute("shader","flat"),this.railEl.setAttribute("color",this.data.railColor),this.railEl.setAttribute("class","ui"),this.el.appendChild(this.railEl),this.railEl.addEventListener("loaded",()=>{this.getRailObject(this.railEl.object3D),this.slide(this.scroll_perc,!0)}),this.data.disabled||(this.handleEl.addEventListener("mouseover",e=>this.mouseEnter(e)),this.handleEl.addEventListener("mouseout",e=>this.mouseLeave(e)));const e=e=>{if(this.data.cameraEl){const t=this.data.cameraEl.components[this.data.lookControlsComponent];t&&t[e]()}},t=e=>this.mouseMove(e);this.handleEl.addEventListener("mousedown",s=>{e("pause"),this.isDragging=!0,this.el.emit("slide-start",this.scroll_perc),this.handlePos=this.handleEl.object3D.worldToLocal(s.detail.intersection?s.detail.intersection.point:s.relatedTarget.object3D.position).x,this.railEl.addEventListener("ui-mousemove",t),this.handleEl.addEventListener("ui-mousemove",t),this.railEl.addEventListener("mouseup",i,{once:!0}),this.handleEl.addEventListener("mouseup",i,{once:!0}),UI.utils.isChanging(this.el.sceneEl,this.handleEl.object3D.uuid),UI.utils.preventDefault(s)});const i=s=>{this.isDragging&&(this.railEl.removeEventListener("ui-mousemove",t),this.handleEl.removeEventListener("ui-mousemove",t),this.railEl.removeEventListener("mouseup",i,{once:!0}),this.handleEl.removeEventListener("mouseup",i,{once:!0}),e("play"),this.isDragging=!1,this.el.emit("slide-end",this.scroll_perc),UI.utils.stoppedChanging(this.handleEl.object3D.uuid),UI.utils.preventDefault(s))};this.el.slide=this.slide.bind(this),this.el.getValue=this.getValue.bind(this),this.el.railEl=this.railEl},mouseEnter(){this.data.courser2d&&(this.el.sceneEl.classList.remove("grab-cursor"),this.el.sceneEl.classList.add("pointer-cursor"))},mouseLeave(){this.data.courser2d&&(this.el.sceneEl.classList.remove("pointer-cursor"),this.el.sceneEl.classList.add("grab-cursor"))},slide(e,t){const i=-this.data.width/2+this.data.handleRadius,s=this.data.width/2-this.data.handleRadius,a=t?i+(s-i)*e:THREE.Math.clamp(e,i,s);this.scroll_perc=t?e:(a-i)/(s-i),this.el.emit("slide",this.scroll_perc),this.handleEl.setAttribute("position",a+" 0 "+(this.data.scrollZOffset+5e-4))},mouseMove(e){if(console.error("mouseMove slider"),this.isDragging){const t=this.railEl.object3D.worldToLocal(e.detail.intersection.point);this.slide(t.x-this.handlePos+this.data.handleRadius)}},update(){this.scroll_perc=this.data.value,this.data.disabled?(this.handleEl.removeEventListener("mouseover",e=>this.mouseEnter(e)),this.handleEl.removeEventListener("mouseout",e=>this.mouseLeave(e))):(this.handleEl.addEventListener("mouseover",e=>this.mouseEnter(e)),this.handleEl.addEventListener("mouseout",e=>this.mouseLeave(e)))},getRailObject(e){e.traverse(e=>{e.geometry&&"ShapeBufferGeometry"===e.geometry.type&&(this.progress=new THREE.Mesh(e.geometry.clone(),new THREE.MeshBasicMaterial({color:this.data.progressColor})),this.progress.position.set(-this.data.width/2,0,1e-4),this.progress.scale.set(1e-5,1,1),this.el.object3D.add(this.progress))})},remove(){this.el.removeObject3D("ui-slider")}})},function(e,t){e.exports=AFRAME.registerComponent("ui-number",{schema:{value:{type:"number",default:0},increment:{type:"number",default:.001},width:{type:"number",default:.65},height:{type:"number",default:.2},intersectableClass:{default:"intersectable"}},init(){this.setupElements()},setupElements(){let e=document.createElement("a-plane");e.setAttribute("width","0.55"),e.setAttribute("height","0.2"),e.className="no-yoga-layout",e.setAttribute("color","#212121"),e.setAttribute("text","value:"+this.data.value.toFixed(3)+";color:#212121;wrapCount:12;align:center"),e.setAttribute("ui-border","borderRadius:0.1;borderWidth:0.008");let t=document.createElement("a-ui-fab-button-small");t.setAttribute("scale","0.75 0.75 0.75"),t.className="no-yoga-layout "+this.data.intersectableClass,t.setAttribute("color","#009688"),t.setAttribute("position","0.33 0.055 0.001"),t.setAttribute("color","#009688"),t.setAttribute("icon-color","#fff"),t.setAttribute("ripple-color","#009688"),t.setAttribute("src","https://cdn.theexpanse.app/images/icons/baseline_keyboard_arrow_up_white_18dp.png"),t.addEventListener("click",()=>{this.data.value+=this.data.increment,e.setAttribute("text","value:"+this.data.value.toFixed(3)+";color:#212121;wrapCount:12;align:center"),this.el.emit("change",this.data.value)});let i=document.createElement("a-ui-fab-button-small");i.setAttribute("scale","0.75 0.75 0.75"),i.className="no-yoga-layout "+this.data.intersectableClass,i.setAttribute("color","#009688"),i.setAttribute("position","0.33 -0.055 0.001"),i.setAttribute("color","#009688"),i.setAttribute("icon-color","#fff"),i.setAttribute("ripple-color","#009688"),i.setAttribute("src","https://cdn.theexpanse.app/images/icons/down_arrow.png"),i.addEventListener("click",()=>{this.data.value-=this.data.increment,e.setAttribute("text","value:"+this.data.value.toFixed(3)+";color:#212121;wrapCount:12;align:center"),this.el.emit("change",this.data.value)}),e.appendChild(t),e.appendChild(i),this.el.appendChild(e)}})},function(e,t){e.exports=AFRAME.registerComponent("ui-switch",{schema:{value:{type:"boolean",default:!1},disabled:{type:"boolean",default:!1},progressColor:{default:"#4db6ac"},handleColor:{default:"#606572"},handleDisabledColor:{default:"#afafaf"},railColor:{default:"#fff"},switchDuration:{type:"int",default:0},handleZIndex:{type:"number",default:.01},intersectableClass:{default:"intersectable"},width:{type:"number",default:.3},height:{type:"number",default:.1},courser2d:{type:"boolean",default:!1}},updateSchema(){this.data&&(this.data.disabled?this.data.value&&(this.data.value=!1,this.click()):this.click(),this.setDisabled())},init(){this.width=.3,this.height=.1,this.handleEl=document.createElement("a-circle"),this.handleEl.setAttribute("radius",.055),this.handleEl.setAttribute("color",this.data.handleColor),this.handleEl.setAttribute("shader","flat"),this.handleEl.setAttribute("class",this.data.intersectableClass+" no-yoga-layout"),this.handleEl.setAttribute("position","-0.05 0 "+this.data.handleZIndex),this.el.appendChild(this.handleEl),this.railEl=document.createElement("a-plane"),this.railEl.setAttribute("width","0.15"),this.railEl.setAttribute("height","0.05"),this.railEl.setAttribute("shader","flat"),this.railEl.setAttribute("color",this.data.railColor),this.railEl.setAttribute("class",this.data.intersectableClass+" no-yoga-layout"),this.el.appendChild(this.railEl),this.railEl.addEventListener("loaded",()=>{this.getRailObject(this.railEl.object3D),this.setDisabled(),this.click()}),this.clickHandler=(e=>{this.data.value=!this.data.value,this.click(),e.detail.preventDefault&&e.detail.preventDefault()}),this.data.disabled||(this.handleEl.addEventListener("mouseover",e=>this.mouseEnter(e)),this.handleEl.addEventListener("mouseout",e=>this.mouseLeave(e)))},update(e){this.data.disabled?(this.handleEl.addEventListener("mouseover",e=>this.mouseEnter(e)),this.handleEl.addEventListener("mouseout",e=>this.mouseLeave(e))):(this.handleEl.removeEventListener("mouseover",e=>this.mouseEnter(e)),this.handleEl.removeEventListener("mouseout",e=>this.mouseLeave(e))),this.click()},mouseEnter(){this.data.courser2d&&(this.el.sceneEl.classList.remove("grab-cursor"),this.el.sceneEl.classList.add("pointer-cursor"))},mouseLeave(){this.data.courser2d&&(this.el.sceneEl.classList.remove("pointer-cursor"),this.el.sceneEl.classList.add("grab-cursor"))},setDisabled(){this.data.disabled?(this.handleEl.removeEventListener("mousedown",this.clickHandler),this.handleEl.setAttribute("color",this.data.handleDisabledColor)):(this.handleEl.addEventListener("mousedown",this.clickHandler),this.handleEl.setAttribute("color",this.data.handleColor))},click(){this.el.emit("ui-switch-changed",this.data.value),this.tweenHandle(),this.tweenProgress()},getRailObject(e){e.traverse(e=>{e.geometry&&"ShapeBufferGeometry"===e.geometry.type&&(this.progress=new THREE.Mesh(e.geometry.clone(),new THREE.MeshBasicMaterial({color:this.data.progressColor})),this.progress.position.set(-.075,0,.001),this.progress.scale.set(1e-5,1,1),this.el.object3D.add(this.progress))})},tweenProgress(){this.progress&&(new TWEEN.Tween(this.progress.position).to(new THREE.Vector3(this.data.value?0:-.075,0,.001),this.data.switchDuration).easing(TWEEN.Easing.Exponential.Out).start(),new TWEEN.Tween(this.progress.scale).to(new THREE.Vector3(this.data.value?1:1e-5,1,1),this.data.switchDuration).easing(TWEEN.Easing.Exponential.Out).start())},tweenHandle(){this.handleEl&&(UI.utils.isChanging(this.el.sceneEl,this.el.object3D.uuid),new TWEEN.Tween(this.handleEl.object3D.position).to(new THREE.Vector3(this.data.value?.05:-.05,0,this.data.handleZIndex),this.data.switchDuration).onComplete(()=>{UI.utils.stoppedChanging(this.el.object3D.uuid)}).easing(TWEEN.Easing.Exponential.Out).start())},remove(){this.el.removeObject3D("ui-switch")}})},function(e,t){e.exports=AFRAME.registerComponent("ui-checkbox",{schema:{value:{type:"boolean",default:!1},selectedColor:{default:"#009688"},unselectedColor:{default:"#7f7f7f"},disabledColor:{default:"#afafaf"},indeterminate:{type:"boolean",default:!1},disabled:{type:"boolean",default:!1},intersectableClass:{default:"intersectable"},width:{type:"number",default:.15},height:{type:"number",default:.15}},init(){this.width=.15,this.height=.15,this.container=document.createElement("a-entity"),this.container.setAttribute("class","no-yoga-layout"),this.el.appendChild(this.container),this.setupLines();let e=document.createElement("a-plane");e.setAttribute("width",.105),e.setAttribute("height",.105),e.setAttribute("position","0 0 -0.002"),e.setAttribute("shader","flat"),e.setAttribute("class",this.data.intersectableClass+" no-yoga-layout"),e.setAttribute("opacity",1e-4),e.setAttribute("transparent",!0),this.el.appendChild(e),this.clickHandler=(()=>{this.data.value=!this.data.value,this.click()}),this.setSelected(),this.setDisabled(),this.setTransform(1)},updateSchema(){this.data&&(this.setDisabled(),this.data.disabled?this.data.value&&(this.data.value=!1,this.data.indeterminate=!1,this.click()):this.click())},setTransform(e){this.data.value?(this.container.setAttribute("rotation",{x:0,y:0,z:-45*e}),this.container.setAttribute("position",{x:-.025*e,y:.05*e,z:0})):(this.container.setAttribute("rotation",{x:0,y:0,z:45*e-45}),this.container.setAttribute("position",{x:.025-.025*e,y:.05-.05*e,z:0}))},click(){this.data.indeterminate=!1,this.setSelected(),this.animateSelected()},animateSelected(){let e=this;UI.utils.isChanging(this.el.sceneEl,this.el.object3D.uuid),new TWEEN.Tween({x:0}).to({x:1},200).onUpdate(function(){e.setTransform(this.x)}).onComplete(function(){UI.utils.stoppedChanging(e.el.object3D.uuid)}).easing(TWEEN.Easing.Exponential.Out).start()},setSelected(){this.data.value?(this.topLine.setAttribute("scale","0.000001 0.000001 0.000001"),this.leftLine.setAttribute("scale","0.000001 0.000001 0.000001"),this.bottomLine.setAttribute("scale","1 1 1"),this.rightLine.setAttribute("scale","1 1 1"),this.bottomLine.setAttribute("position","0.025 -0.05 0"),this.rightLine.setAttribute("position","0.05 0 0"),this.bottomLine.setAttribute("rotation","0 0 90"),this.bottomLine.setAttribute("height",.05),this.bottomLine.setAttribute("color",this.data.selectedColor),this.rightLine.setAttribute("color",this.data.selectedColor)):this.data.indeterminate?(this.topLine.setAttribute("scale","0.000001 0.000001 0.000001"),this.leftLine.setAttribute("scale","0.000001 0.000001 0.000001"),this.bottomLine.setAttribute("scale","1 1 1"),this.rightLine.setAttribute("scale","0.000001 0.000001 0.000001"),this.bottomLine.setAttribute("position","0 0 0"),this.bottomLine.setAttribute("rotation","0 0 90"),this.bottomLine.setAttribute("height",.1),this.bottomLine.setAttribute("color",this.data.unselectedColor),this.rightLine.setAttribute("color",this.data.unselectedColor)):(this.topLine.setAttribute("scale","1 1 1"),this.leftLine.setAttribute("scale","1 1 1"),this.bottomLine.setAttribute("scale","1 1 1"),this.rightLine.setAttribute("scale","1 1 1"),this.bottomLine.setAttribute("height",.1),this.leftLine.setAttribute("position","-0.05 0 0"),this.rightLine.setAttribute("position","0.05 0 0"),this.topLine.setAttribute("position","0 0.05 0"),this.bottomLine.setAttribute("position","0 -0.05 0"),this.topLine.setAttribute("rotation","0 0 90"),this.bottomLine.setAttribute("rotation","0 0 90"),this.bottomLine.setAttribute("color",this.data.unselectedColor),this.rightLine.setAttribute("color",this.data.unselectedColor))},setupLines(){this.leftLine=this.line(!0),this.rightLine=this.line(!0),this.topLine=this.line(!0),this.bottomLine=this.line(!0),this.container.appendChild(this.topLine),this.container.appendChild(this.leftLine),this.container.appendChild(this.bottomLine),this.container.appendChild(this.rightLine)},setDisabled(){this.data.disabled?(this.el.removeEventListener("mousedown",this.clickHandler),this.topLine.setAttribute("color",this.data.disabledColor),this.leftLine.setAttribute("color",this.data.disabledColor),this.rightLine.setAttribute("color",this.data.disabledColor),this.bottomLine.setAttribute("color",this.data.disabledColor)):(this.el.addEventListener("mousedown",this.clickHandler),this.topLine.setAttribute("color",this.data.unselectedColor),this.leftLine.setAttribute("color",this.data.unselectedColor),this.rightLine.setAttribute("color",this.data.value?this.data.selectedColor:this.data.unselectedColor),this.bottomLine.setAttribute("color",this.data.value?this.data.selectedColor:this.data.unselectedColor))},line(e){let t=document.createElement("a-plane");return t.setAttribute("width",e?.01:.105),t.setAttribute("height",e?.105:.01),t.setAttribute("class","no-yoga-layout"),t.setAttribute("shader","flat"),t}})},function(e,t){e.exports=AFRAME.registerComponent("ui-radio",{schema:{value:{default:""},selected:{type:"boolean",default:!1},selectedColor:{default:"#606572"},selectedRadius:{type:"number",default:.045},unselectedColor:{default:"#5f5f5f"},disabledColor:{default:"#afafaf"},disabled:{type:"boolean",default:!1},intersectableClass:{default:"ui"},width:{type:"number",default:.15},height:{type:"number",default:.15}},init(){this.width=.15,this.height=.15,this.filled_circle=document.createElement("a-circle"),this.filled_circle.setAttribute("radius",this.data.selectedRadius),this.filled_circle.setAttribute("scale","1 1 1"),this.filled_circle.setAttribute("shader","flat"),this.filled_circle.setAttribute("class",this.data.intersectableClass),this.filled_circle.setAttribute("segments",6),this.el.appendChild(this.filled_circle),this.backing=document.createElement("a-circle"),this.backing.setAttribute("radius",this.data.selectedRadius),this.backing.setAttribute("position","0 0 -0.005"),this.backing.setAttribute("class",this.data.intersectableClass),this.backing.setAttribute("shader","flat"),this.backing.setAttribute("segments",6),this.el.appendChild(this.backing),this.data.selected?this.click():this.deselect(),this.clickHandler=(e=>{this.click(e),e.detail.preventDefault&&e.detail.preventDefault()})},update(){this.data.selected?this.click():this.deselect()},play(){this.data.disabled?(this.backing.removeEventListener("mousedown",this.clickHandler),this.filled_circle.removeEventListener("mousedown",this.clickHandler)):(this.backing.addEventListener("mousedown",this.clickHandler),this.filled_circle.addEventListener("mousedown",this.clickHandler))},pause(){this.data.disabled||(this.backing.removeEventListener("mousedown",this.clickHandler),this.filled_circle.removeEventListener("mousedown",this.clickHandler))},deselect(){this.el.setAttribute("selected",!1);UI.utils.isChanging(this.el.sceneEl,this.filled_circle.object3D.uuid),this.filled_circle.setAttribute("color","#5f5f5f"),UI.utils.stoppedChanging(this.filled_circle.object3D.uuid),this.isRippling=!1},click(){if([].slice.call(this.el.parentNode.querySelectorAll("a-ring,a-ui-radio")).filter(e=>e!==this.el).forEach(e=>{e.components["ui-radio"]&&"true"===e.getAttribute("selected")&&e.components["ui-radio"].deselect()}),this.el.emit("ui-radio-changed",this.data.value),this.el.setAttribute("selected",!0),this.isSelecting)return;this.isSelecting=!0;UI.utils.isChanging(this.el.sceneEl,this.filled_circle.object3D.uuid),console.error("radio tween"),this.filled_circle.setAttribute("color","#ffffff"),UI.utils.stoppedChanging(this.filled_circle.object3D.uuid),this.isSelecting=!1},remove(){this.el.removeObject3D("ui-radio"),this.el.object3D.remove(this.backing),this.el.object3D.remove(this.filled_circle)}})},function(e){e.exports={name:"aframe-material-collection",version:"0.5.0",description:"Material UI based primitives and components for use in your aframe projects.",homepage:"https://github.com/shaneharris/aframe-material-collection",keywords:["AFRAME","UI","Material"],scripts:{start:"webpack-dev-server --mode development",build:"webpack --mode production"},repository:{type:"git",url:"git@github.com:shaneharris/aframe-material-collection.git"},bugs:{url:"https://github.com/shaneharris/aframe-material-collection/issues"},devDependencies:{"uglifyjs-webpack-plugin":"^1.2.7",webpack:"^4.16.1","webpack-cli":"^3.1.0","webpack-dev-server":"^3.1.4"},author:"Shane Harris",license:"MIT",dependencies:{}}},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-icon-button",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"box-rounded":{width:.03,height:.01,depth:.01,color:"#000111",curveSegments:13,borderRadius:.01,material:"standard",depth:.02,envMapIntensity:.4},"ui-btn":{animated:"ui-btn.animated"},"troika-text":{align:"center",depthOffset:-6e3,wrapCount:10,fontSize:.015},"ui-icon":{zIndex:.02}},mappings:{height:"box-rounded.height",width:"box-rounded.width",depth:"box-rounded.depth",color:"box-rounded.color",transparent:"box-rounded.transparent","text-value":"troika-text.value",src:"ui-icon.src",animated:"ui-btn.animated",courser2d:"ui-btn.courser2d",disabled:"ui-btn.disabled","hover-height":"ui-btn.hoverHeight","active-height":"ui-btn.activeHeight"}})),e.exports=AFRAME.registerPrimitive("a-ui-icon-button-new",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"box-rounded":{color:"#000111",curveSegments:16,borderRadius:.005,material:"standard",depth:.02,envMapIntensity:.5},"ui-icon":{zIndex:.005,iconmesh:"plane",size:{x:1.45,y:.95},width:.5,height:.5}},mappings:{height:"box-rounded.height",width:"box-rounded.width",depth:"box-rounded.depth",color:"box-rounded.color",transparent:"box-rounded.transparent",src:"ui-icon.src",animated:"ui-btn.animated",courser2d:"ui-btn.courser2d",disabled:"ui-btn.disabled","hover-height":"ui-btn.hoverHeight","active-height":"ui-btn.activeHeight"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-text-input",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-text":{placeHolder:"Text..."},"ui-double-click":{}},mappings:{width:"ui-text.width",height:"ui-text.height",value:"ui-text.value","place-holder":"ui-text.placeHolder"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-scroll-pane",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-scroll-pane":{}},mappings:{width:"ui-scroll-pane.width",height:"ui-scroll-pane.height","scroll-z-offset":"ui-scroll-pane.scrollZOffset","handle-color":"ui-scroll-pane.scrollHandleColor","scroll-padding":"ui-scroll-pane.scrollPadding","look-controls-el":"ui-scroll-pane.cameraEl","look-controls-component":"ui-scroll-pane.lookControlsComponent"}}))},function(e,t){e.exports=AFRAME.registerComponent("ui-icon",{schema:{src:{default:""},size:{type:"vec2",default:{x:.1,y:.1}},width:{type:"number",default:.1},height:{type:"number",default:.1},zIndex:{type:"number",default:1e-4},color:{default:"#fff"},iconmesh:{default:"circle"},radius:{type:"number",default:.03}},init(){const e=this.el.object3D.getObjectByProperty("type","Mesh");this.textureLoader=new THREE.TextureLoader;const t=this.textureLoader.load(this.data.src);let i,s;e&&e.geometry.boundingBox?(i=e.geometry.boundingBox.max.x,s=e.geometry.boundingBox.max.y):(i=this.data.width,s=this.data.height),t.onUpdate=function(){t.image.close&&t.image.close(),delete t.image},this.material=new THREE.MeshBasicMaterial({transparent:!0,map:t}),"circle"==this.data.iconmesh?this.icon=new THREE.Mesh(new THREE.CircleGeometry(this.data.radius,32),this.material):this.icon=new THREE.Mesh(new THREE.PlaneGeometry(i,s),this.material),this.icon.position.set(0,0,this.data.zIndex),this.el.object3D.add(this.icon)},update(e){if(void 0!==e.src&&this.data.src!==e.src&&this.material){const e=this.textureLoader.load(this.data.src);this.material.map=e,e.onUpdate=function(){console.info("icon onUpdate GPU upload"),e.image.close&&e.image.close(),delete e.image}}},remove(){console.info("icon remove()"),this.el.object3D.remove(this.el.object3D),this.icon=null,this.el.remove("ui-icon")}})},function(e,t){e.exports=AFRAME.registerComponent("ui-rounded",{schema:{borderRadius:{type:"number",default:.01},curveSegments:{type:"int",default:1}},init(){this.el.emit("rounded-loaded",null,!1)},remove(){this.el.removeObject3D("ui-rounded")}})},function(e,t){e.exports=AFRAME.registerComponent("ui-ripple",{schema:{color:{default:"#fff"},duration:{type:"int",default:1e3},fadeDuration:{type:"int",default:750},fadeDelay:{type:"int",default:250},clampToSquare:{type:"boolean",default:!1},size:{type:"vec2",default:{x:1,y:1}},zIndex:{type:"number",default:.01},segments:{type:"int",default:6}},init(){this.rippleGeometry=new THREE.CircleGeometry(Math.max(this.data.size.x,this.data.size.y),this.data.segments),this.ripple=new THREE.Mesh(this.rippleGeometry.clone(),new THREE.MeshBasicMaterial({color:this.data.color,transparent:!1,opacity:.4,alphaTest:.1})),this.ripple.scale.set(1e-5,1e-5,1e-5),this.el.object3D.add(this.ripple),this.el.addEventListener("mousedown",this.click.bind(this)),this.ripple.position.set(0,0,this.data.zIndex),this.data.clampToSquare&&(this.content_clips=[new THREE.Plane(new THREE.Vector3(0,1,0),this.data.size.y/2),new THREE.Plane(new THREE.Vector3(0,-1,0),this.data.size.y/2),new THREE.Plane(new THREE.Vector3(-1,0,0),this.data.size.x/2),new THREE.Plane(new THREE.Vector3(1,0,0),this.data.size.x/2)])},click(e){if(this.isRippling)return e.preventDefault();this.isRippling=!0,this.data.clampToSquare&&this.setRippleClips(this.ripple.material),this.tweenSize(this.ripple.geometry),this.tweenOpacity(this.ripple.material)},setRippleClips(){this.content_clips[0].set(new THREE.Vector3(0,1,0),this.data.size.y/2),this.content_clips[1].set(new THREE.Vector3(0,-1,0),this.data.size.y/2),this.content_clips[2].set(new THREE.Vector3(-1,0,0),this.data.size.x/2),this.content_clips[3].set(new THREE.Vector3(1,0,0),this.data.size.x/2),this.content_clips[0].applyMatrix4(this.el.object3D.matrixWorld),this.content_clips[1].applyMatrix4(this.el.object3D.matrixWorld),this.content_clips[2].applyMatrix4(this.el.object3D.matrixWorld),this.content_clips[3].applyMatrix4(this.el.object3D.matrixWorld),this.ripple.material.clippingPlanes=this.el._content_clips?this.el._content_clips.concat(this.content_clips):this.content_clips,this.ripple.material.clipShadows=!0,this.ripple.material.needsUpdate=!0},tweenSize(e){let t=this;UI.utils.isChanging(this.el.sceneEl,t.ripple.uuid),new TWEEN.Tween({x:1e-5}).to({x:1},this.data.duration).onUpdate(function(){t.ripple.scale.set(this.x,this.x,this.x)}).onComplete(()=>{t.ripple.scale.set(1e-5,1e-5,1e-5),this.isRippling=!1,UI.utils.stoppedChanging(t.ripple.uuid)}).easing(TWEEN.Easing.Exponential.Out).start()},tweenOpacity(e){new TWEEN.Tween({x:.4}).to({x:0},this.data.fadeDuration).delay(this.data.fadeDelay).onUpdate(function(){e.opacity=this.x}).onComplete(()=>{e.opacity=.4}).easing(TWEEN.Easing.Exponential.Out).start()},remove(){this.el.removeObject3D("ui-ripple"),this.el.remove(this.rippleGeometry),this.el.remove(this.ripple),this.el.remove(self),this.el.remove(this.object3D),console.error(this.el)}})},function(e,t){e.exports=AFRAME.registerComponent("ui-scroll-pane",{schema:{height:{type:"number",default:1.2},width:{type:"number",default:2.9},scrollPadding:{type:"number",default:.05},scrollZOffset:{type:"number",default:0},scrollHandleColor:{default:"#000000"},intersectableClass:{default:"intersectable"},cameraEl:{type:"selector"},lookControlsComponent:{default:"look-controls"}},init(){if(!AFRAME.utils.device.isMobile())return;if(this.handlePos=0,this.setupElements(),this.container=this.el.querySelector(".container"),void 0===this.container)throw'ui-scroll-pane needs an entity inside it with the class "container" - <a-entity class="container"></a-entity>';this.container.getAttribute("position");const e=e=>{console.error("endscroll"),this.isDragging&&(this.isDragging=!1,this.handlePos=0,UI.utils.preventDefault(e))};this.backgroundPanel.addEventListener("mouseup",e),this.backgroundPanel.addEventListener("mouseleave",e),this.backgroundPanel.addEventListener("mouseover",e=>{}),this.backgroundPanel.addEventListener("ui-mousemove",e=>{if(this.isDragging){0===this.handlePos&&(this.handlePos=e.detail.intersection.point,this.el.sceneEl.emit("stateadded",{detail:"scroll"}),console.error("stateadded scroll"));const t=this.backgroundPanel.object3D.worldToLocal(e.detail.intersection.point);e.detail.intersection.point,this.scroll(t.y-this.handlePos.y)}}),this.backgroundPanel.addEventListener("mousedown",e=>{console.error("startScroll"),this.el.sceneEl.emit("stateremoved",{detail:"noscroll"}),this.isDragging=!0,console.error(this.backgroundPanel.object3D.position.y),UI.utils.preventDefault(e)}),this.backgroundPanel.addEventListener("nomousedown",e=>{console.error("touchstart"),UI.utils.isChanging(this.el.sceneEl,this.handle.object3D.uuid),this.isDragging=!0,this.handlePos=0,this.scroll(this.backgroundPanel.object3D.worldToLocal(e.detail.intersection?e.detail.intersection.point:e.relatedTarget.object3D.position).y),UI.utils.preventDefault(e)}),this.el.scroll=this.scroll.bind(this)},scroll(e){const t=-this.data.height/2+this.data.height*this.handleSize/2,i=this.data.height/2-this.data.height*this.handleSize/2,s=THREE.Math.clamp(e,t,i);this.handleSize;this.container.object3D.position.y=e},setupElements(){this.backgroundPanel=document.createElement("a-plane"),this.backgroundPanel.setAttribute("width",this.data.width),this.backgroundPanel.setAttribute("height",this.data.height),this.backgroundPanel.setAttribute("position","0 0 0"),this.backgroundPanel.setAttribute("class","ui"),this.backgroundPanel.setAttribute("visible","false"),this.el.appendChild(this.backgroundPanel)}})},,function(e,t,i){"use strict";i.r(t);let s=i(15).version;if(console.log("aframe-material-collection version test"+s),"undefined"==typeof AFRAME)throw'aframe-material-collection requires AFRAME to be loaded first. - <script src="https://aframe.io/releases/0.8.2/aframe.min.js"><\/script>';let a=new class{constructor(){this.changesDetected={},this.is_changeing=!1}isFirstOrLastChange(){let e=!0;for(let t in this.changesDetected){e=!1;break}this.is_changeing||e?this.is_changeing&&e&&this.is_changeing&&(this.scene.emit("ui-changing-stopped"),this.is_changeing=!1):(this.scene.emit("ui-changing"),this.is_changeing=!0)}preventDefault(e){e.detail&&e.detail.preventDefault&&"function"==typeof e.detail.preventDefault&&e.detail.preventDefault()}shorten(e,t){return e.length>t?e.substr(0,t)+"...":e}ucFirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}isChanging(e,t){if(this.changesDetected[t])this.changesDetected[t].t=(new Date).getTime();else{this.scene=this.scene||e;let i=(new Date).getTime();this.changesDetected[t]={t:i},this.isFirstOrLastChange()}}stoppedChanging(e){delete this.changesDetected[e],this.isFirstOrLastChange()}copyToClipboard(e){navigator.clipboard.writeText(e).then(()=>{},e=>{console.error("copy to clipboard failed:",e)})}clearObject(e){e.traverse(e=>{if(e.material)if(e.material.length)for(let t=0;t<e.material.length;t++)e.material[t].map&&e.material[t].map.dispose(),e.material[t].dispose();else e.material.map&&e.material.map.dispose(),e.material.dispose();e.geometry&&e.geometry.dispose()})}};window.UI={utils:a,a_ui_button:i(0),a_ui_icon_button:i(16),a_ui_fab_button:i(1),a_ui_fab_button_small:i(2),a_ui_round_button:i(3),a_ui_switch:i(4),a_ui_slider:i(5),a_ui_checkbox:i(6),a_ui_radio:i(7),a_ui_input_text:i(8),a_ui_text_input:i(17),a_ui_scroll_pane:i(18),btn:i(9),icon:i(19),rounded:i(20),ripple:i(21),slider:i(10),number:i(11),switch:i(12),scroll_pane:i(22),checkbox:i(13),radio:i(14)}}]);